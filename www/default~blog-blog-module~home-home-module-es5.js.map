{"version":3,"sources":["webpack:///node_modules/@sanity/block-content-to-html/lib/blocksToHtml.js","webpack:///node_modules/@sanity/block-content-to-hyperscript/lib/blocksToNodes.js","webpack:///node_modules/@sanity/block-content-to-hyperscript/lib/buildMarksTree.js","webpack:///node_modules/@sanity/block-content-to-hyperscript/lib/generateKeys.js","webpack:///node_modules/@sanity/block-content-to-hyperscript/lib/getImageUrl.js","webpack:///node_modules/@sanity/block-content-to-hyperscript/lib/index.js","webpack:///node_modules/@sanity/block-content-to-hyperscript/lib/mergeSerializers.js","webpack:///node_modules/@sanity/block-content-to-hyperscript/lib/nestLists.js","webpack:///node_modules/@sanity/block-content-to-hyperscript/lib/serializers.js","webpack:///node_modules/@sanity/generate-help-url/index.js","webpack:///node_modules/@sanity/image-url/lib/browser/image-url.umd.js","webpack:///node_modules/browser-split/index.js","webpack:///node_modules/class-list/index.js","webpack:///node_modules/graphql-tag/src/index.js","webpack:///node_modules/hyperscript/index.js","webpack:///node_modules/indexof/index.js","webpack:///node_modules/object-assign/index.js","webpack:///node_modules/tiny-slider/src/helpers/Object.keys.js","webpack:///node_modules/tiny-slider/src/helpers/addCSSRule.js","webpack:///node_modules/tiny-slider/src/helpers/addClass.js","webpack:///node_modules/tiny-slider/src/helpers/addEvents.js","webpack:///node_modules/tiny-slider/src/helpers/arrayFromNodeList.js","webpack:///node_modules/tiny-slider/src/helpers/caf.js","webpack:///node_modules/tiny-slider/src/helpers/calc.js","webpack:///node_modules/tiny-slider/src/helpers/checkStorageValue.js","webpack:///node_modules/tiny-slider/src/helpers/childNode.remove.js","webpack:///node_modules/tiny-slider/src/helpers/classListSupport.js","webpack:///node_modules/tiny-slider/src/helpers/createStyleSheet.js","webpack:///node_modules/tiny-slider/src/helpers/docElement.js","webpack:///node_modules/tiny-slider/src/helpers/events.js","webpack:///node_modules/tiny-slider/src/helpers/extend.js","webpack:///node_modules/tiny-slider/src/helpers/forEach.js","webpack:///node_modules/tiny-slider/src/helpers/getAttr.js","webpack:///node_modules/tiny-slider/src/helpers/getBody.js","webpack:///node_modules/tiny-slider/src/helpers/getCssRulesLength.js","webpack:///node_modules/tiny-slider/src/helpers/getEndProperty.js","webpack:///node_modules/tiny-slider/src/helpers/getSlideId.js","webpack:///node_modules/tiny-slider/src/helpers/getTouchDirection.js","webpack:///node_modules/tiny-slider/src/helpers/has3DTransforms.js","webpack:///node_modules/tiny-slider/src/helpers/hasAttr.js","webpack:///node_modules/tiny-slider/src/helpers/hasClass.js","webpack:///node_modules/tiny-slider/src/helpers/hideElement.js","webpack:///node_modules/tiny-slider/src/helpers/isNodeList.js","webpack:///node_modules/tiny-slider/src/helpers/isVisible.js","webpack:///node_modules/tiny-slider/src/helpers/jsTransform.js","webpack:///node_modules/tiny-slider/src/helpers/mediaquerySupport.js","webpack:///node_modules/tiny-slider/src/helpers/passiveOption.js","webpack:///node_modules/tiny-slider/src/helpers/percentageLayout.js","webpack:///node_modules/tiny-slider/src/helpers/raf.js","webpack:///node_modules/tiny-slider/src/helpers/removeAttrs.js","webpack:///node_modules/tiny-slider/src/helpers/removeCSSRule.js","webpack:///node_modules/tiny-slider/src/helpers/removeClass.js","webpack:///node_modules/tiny-slider/src/helpers/removeEvents.js","webpack:///node_modules/tiny-slider/src/helpers/resetFakeBody.js","webpack:///node_modules/tiny-slider/src/helpers/setAttrs.js","webpack:///node_modules/tiny-slider/src/helpers/setFakeBody.js","webpack:///node_modules/tiny-slider/src/helpers/setLocalStorage.js","webpack:///node_modules/tiny-slider/src/helpers/showElement.js","webpack:///node_modules/tiny-slider/src/helpers/toDegree.js","webpack:///node_modules/tiny-slider/src/helpers/whichProperty.js","webpack:///node_modules/tiny-slider/src/tiny-slider.js","webpack:///src/app/shared/components/block/block.component.ts","webpack:///src/app/shared/components/block/block.component.html","webpack:///src/app/shared/components/navbar/navbar.component.ts","webpack:///src/app/shared/components/navbar/navbar.component.html","webpack:///src/app/shared/components/tool-slider/tool-slider.component.ts","webpack:///src/app/shared/components/tool-slider/tool-slider.component.html","webpack:///src/app/shared/queries/blog-author-page.ts","webpack:///src/app/shared/queries/blog-post-page.ts","webpack:///src/app/shared/queries/blog-posts-page.ts","webpack:///src/app/shared/queries/home-page.ts","webpack:///src/app/shared/queries/index.ts","webpack:///src/app/shared/shared.module.ts","webpack:///html-element (ignored)"],"names":["blocksToHyperScript","h","renderNode","blocksToHtml","options","rootNode","outerHTML","defaultSerializers","getImageUrl","module","exports","objectAssign","buildMarksTree","nestLists","generateKeys","mergeSerializers","optionProps","isDefined","val","defaults","imageOptions","blocksToNodes","properties","serializeSpan","props","rawBlocks","Array","isArray","blocks","keyedBlocks","listNestMode","serializers","reduce","opts","key","value","serializeNode","node","index","siblings","isInline","isList","serializeList","isListItem","serializeListItem","findListItemIndex","isSpan","serializeBlock","i","length","block","tree","children","map","blockProps","_key","concat","listItem","list","type","level","renderContainerOnSingleChild","Boolean","nodes","containerProps","className","container","empty","_type","marks","defaultMarks","markDefs","sortedMarks","sortMarksByOccurences","nodeStack","forEach","span","marksNeeded","lastNode","push","pos","mark","markKey","indexOf","splice","slice","currentNode","findLastParentNode","find","def","isTextSpan","lines","text","split","line","spans","markOccurences","occurences","siblingIndex","sibling","sortByOccurence","sortMarks","bind","sort","markA","markB","aOccurences","bOccurences","aDefaultPos","bDefaultPos","undefined","getStaticKey","item","checksum","JSON","stringify","toString","replace","str","hash","strlen","charCodeAt","generateHelpUrl","urlBuilder","enc","encodeURIComponent","materializeError","getQueryString","query","keys","Object","params","join","buildUrl","projectId","dataset","asset","Error","url","ref","_ref","image","hyperscript","getSerializers","serializer","tag","childNodes","_getSerializers","useDashedStyles","blockContentToHyperscript","_typeof","obj","Symbol","iterator","constructor","prototype","userSerializers","acc","mode","arguments","currentList","isListBlock","listFromBlock","blockMatchesList","newList","lastListItem","lastChild","newLastChild","match","findListMatching","_match","console","warn","matching","filterOnType","serializerOpts","serializeOptions","BlockSerializer","blockType","types","SpanSerializer","_props$node","isPlain","markType","markFallback","ListSerializer","ListItemSerializer","style","BlockTypeSerializer","test","RawMarkSerializer","UnderlineSerializer","textDecoration","StrikeThroughSerializer","LinkSerializer","href","ImageSerializer","img","src","hardBreak","child","serializedNode","HardBreakSerializer","defaultMarkSerializers","strong","em","code","underline","link","baseUrl","slug","global","factory","_extends","assign","target","source","hasOwnProperty","call","apply","_unsupportedIterableToArray","o","minLen","_arrayLikeToArray","n","name","from","arr","len","arr2","_createForOfIteratorHelperLoose","done","TypeError","next","example","parseAssetId","_ref$split","id","dimensionString","format","_dimensionString$spli","imgWidthStr","imgHeightStr","width","height","isValidAssetId","isFinite","isRef","isAsset","_id","isAssetStub","parseSource","isUrl","urlToId","crop","hotspot","applyDefaults","parts","result","left","top","bottom","right","x","y","SPEC_NAME_TO_URL_NAME_MAPPINGS","urlForImage","spec","cropLeft","Math","round","cropTop","hotSpotVerticalRadius","hotSpotHorizontalRadius","hotSpotCenterX","hotSpotCenterY","rect","focalPoint","ignoreImageParams","fit","specToImageUrl","cdnUrl","filename","_spec$rect","isEffectiveCrop","bg","flip","flipHorizontal","flipVertical","filter","mapping","specName","param","cropRect","imgWidth","imgHeight","desiredAspectRatio","cropAspectRatio","hotspotXCenter","_width","_height","_left","hotspotYCenter","_top","max","floor","validFits","validCrops","validAutoModes","isSanityClient","client","clientConfig","rewriteSpecName","specs","_iterator","_step","entry","_client$clientConfig","apiUrl","apiHost","ImageUrlBuilder","parent","_proto","withOptions","newOptions","specKey","_dataset","_projectId","_bg","dpr","_dpr","maxWidth","_maxWidth","minWidth","_minWidth","maxHeight","_maxHeight","minHeight","_minHeight","size","blur","_blur","sharpen","_sharpen","_format","invert","_invert","orientation","_orientation","quality","_quality","forceDownload","download","saturation","_saturation","auto","undef","nativeSplit","String","compliantExecNpcg","exec","self","separator","limit","output","flags","ignoreCase","multiline","extended","sticky","lastLastIndex","RegExp","separator2","lastIndex","lastLength","indexof","ClassList","elem","cl","classList","add","remove","contains","toggle","$toString","token","getTokens","setTokens","tokens","isTruthy","fn","ret","parser","parse","normalize","string","trim","docCache","fragmentSourceMap","cacheKeyFromLoc","loc","body","substring","start","end","resetCaches","printFragmentWarnings","processFragments","ast","astFragmentMap","definitions","fragmentDefinition","kind","fragmentName","sourceKey","disableFragmentWarnings","stripLoc","doc","removeLocAtThisLevel","docType","d","startToken","endToken","valueType","experimentalFragmentVariables","parseDocument","cacheKey","parsed","enableExperimentalFragmentVariables","disableExperimentalFragmentVariables","gql","args","literals","w","window","document","Text","context","cleanupFuncs","e","l","r","parseClass","m","createElement","v","s","setAttribute","appendChild","createTextNode","Date","isNode","k","addEventListener","removeEventListener","attachEvent","detachEvent","cssText","setProperty","substr","parentElement","replaceChild","textContent","shift","cleanup","el","nodeName","nodeType","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","shouldUseNative","test1","getOwnPropertyNames","test2","fromCharCode","order2","test3","letter","err","to","symbols","object","addCSSRule","sheet","selector","rules","insertRule","addRule","addClass","addEvents","preventScrolling","prop","option","arrayFromNodeList","nl","win","caf","cancelAnimationFrame","mozCancelAnimationFrame","clearTimeout","calc","docOverflow","div","vals","offsetWidth","fake","checkStorageValue","Element","parentNode","removeChild","classListSupport","createStyleSheet","media","querySelector","styleSheet","docElement","documentElement","Events","topics","on","eventName","off","emit","data","extend","copy","callback","scope","getAttr","attr","getAttribute","getBody","getCssRulesLength","rule","cssRules","getEndProperty","propIn","propOut","endProp","toLowerCase","getSlideId","tnsId","getTouchDirection","angle","range","direction","gap","abs","has3DTransforms","tf","getComputedStyle","has3d","cssTF","insertBefore","getPropertyValue","hasAttr","hasAttribute","hasClass","hideElement","forceHide","display","isNodeList","isVisible","jsTransform","element","prefix","postfix","duration","tick","min","unit","Number","positionTick","running","setTimeout","moveElement","mediaquerySupport","position","currentStyle","supportsPassive","defineProperty","get","passiveOption","passive","percentageLayout","wrapper","outer","count","perPage","supported","innerHTML","getBoundingClientRect","raf","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","cb","removeAttrs","els","attrs","attrLength","j","removeAttribute","removeCSSRule","deleteRule","removeRule","removeClass","removeEvents","resetFakeBody","overflow","offsetHeight","setAttrs","setFakeBody","background","setLocalStorage","storage","access","setItem","showElement","toDegree","atan2","PI","whichProperty","Props","charAt","toUpperCase","prefixes","tns","axis","items","gutter","edgePadding","fixedWidth","autoWidth","viewportMax","slideBy","center","controls","controlsPosition","controlsText","controlsContainer","prevButton","nextButton","nav","navPosition","navContainer","navAsThumbnails","arrowKeys","speed","autoplay","autoplayPosition","autoplayTimeout","autoplayDirection","autoplayText","autoplayHoverPause","autoplayButton","autoplayButtonOutput","autoplayResetOnVisibility","animateIn","animateOut","animateNormal","animateDelay","loop","rewind","autoHeight","responsive","lazyload","lazyloadSelector","touch","mouseDrag","swipeAngle","nested","preventActionWhenRunning","preventScrollOnTouch","freezable","onInit","useLocalStorage","KEYS","ENTER","SPACE","LEFT","RIGHT","tnsStorage","localStorageAccess","browserInfo","navigator","userAgent","uid","localStorage","getItem","removeItem","CALC","PERCENTAGELAYOUT","CSSMQ","TRANSFORM","HAS3DTRANSFORMS","TRANSITIONDURATION","TRANSITIONDELAY","ANIMATIONDURATION","ANIMATIONDELAY","TRANSITIONEND","ANIMATIONEND","supportConsoleWarn","tnsList","optionsElements","carousel","responsiveTem","updateOptions","horizontal","outerWrapper","innerWrapper","middleWrapper","containerParent","containerHTML","slideItems","slideCount","breakpointZone","windowWidth","getWindowWidth","isOn","setBreakpointZone","getOption","viewport","getViewportWidth","fixedWidthViewportWidth","slidePositions","slideItemsOut","cloneCount","getCloneCountForLoop","slideCountNew","hasRightDeadZone","rightBoundary","getRightBoundary","updateIndexBeforeTransform","transformAttr","transformPrefix","transformPostfix","getIndexMax","ceil","getStartIndex","indexCached","displayIndex","getCurrentSlide","indexMin","indexMax","resizeTimer","moveDirectionExpected","events","newContainerClasses","slideId","disable","disabled","freeze","getFreeze","frozen","controlsEvents","onControlsClick","onControlsKeydown","navEvents","onNavClick","onNavKeydown","hoverEvents","mouseoverPause","mouseoutRestart","visibilityEvent","onVisibilityChange","docmentKeydownEvent","onDocumentKeydown","touchEvents","onPanStart","onPanMove","onPanEnd","dragEvents","hasControls","hasOption","hasNav","hasAutoplay","hasTouch","hasMouseDrag","slideActiveClass","imgCompleteClass","imgEvents","onImgLoaded","onImgFailed","imgsComplete","liveregionCurrent","preventScroll","controlsContainerHTML","prevButtonHTML","nextButtonHTML","prevIsButton","nextIsButton","navContainerHTML","navItems","pages","getPages","pagesCached","navClicked","navCurrentIndex","getCurrentNavIndex","navCurrentIndexCached","navActiveClass","navStr","navStrCurrent","autoplayButtonHTML","autoplayHtmlStrings","autoplayTimer","animating","autoplayHoverPaused","autoplayUserPaused","autoplayVisibilityPaused","initPosition","lastPosition","translateInit","disX","disY","panStart","rafIndex","getDist","a","b","resetVariblesWhenDisable","initStructure","initSheet","initSliderTransform","condition","tem","ind","getAbsIndex","absIndex","getItemsMax","bp","itemsMax","innerWidth","clientWidth","getInsertPosition","getClientWidth","ww","parseInt","getSlideMarginLeft","getInnerWrapperStyles","edgePaddingTem","gutterTem","fixedWidthTem","speedTem","autoHeightBP","gutterTemUnit","dir","getTransitionDurationStyle","getContainerWidth","itemsTem","getSlideWidthStyle","dividend","getSlideGutterStyle","getCSSPrefix","num","getAnimationDurationStyle","classOuter","classInner","hasGutter","wp","fragmentBefore","createDocumentFragment","fragmentAfter","cloneFirst","cloneNode","firstChild","cloneLast","imgs","querySelectorAll","imgLoaded","imgsLoadedCheck","getImageArray","initSliderTransformStyleCheck","doContainerTransformSilent","initTools","initEvents","stylesApplicationCheck","toFixed","initSliderTransformCore","setSlidePositions","updateContentWrapperHeight","fontSize","slide","marginLeft","update_carousel_transition_duration","middleWrapperStr","innerWrapperStr","containerStr","slideStr","itemsBP","fixedWidthBP","speedBP","edgePaddingBP","gutterBP","updateSlideStatus","insertAdjacentHTML","getLiveRegionStr","txt","toggleAutoplay","startAutoplay","initIndex","navHtml","hiddenStr","updateNavVisibility","isButton","updateControlsStatus","disableUI","eve","onTransitionEnd","resizeTasks","info","onResize","doAutoHeight","doLazyLoad","disableSlider","freezeSlider","additionalUpdates","destroy","ownerNode","clearInterval","htmlList","prevEl","previousElementSibling","parentEl","nextElementSibling","firstElementChild","getEvent","bpChanged","breakpointZoneTem","needContainerTransform","indChanged","itemsChanged","disableTem","freezeTem","arrowKeysTem","controlsTem","navTem","touchTem","mouseDragTem","autoplayTem","autoplayHoverPauseTem","autoplayResetOnVisibilityTem","indexTem","autoHeightTem","controlsTextTem","centerTem","autoplayTextTem","updateIndex","enableSlider","doContainerTransform","getContainerTransformValue","unfreezeSlider","stopAutoplay","html","updateLiveRegion","updateGallerySlidePositions","autoheightTem","vp","leftEdge","rightEdge","enableUI","margin","classN","getVisibleSlideRange","rangestart","rangeend","parseFloat","point","cell","stopPropagation","srcset","getTarget","imgFailed","imgCompleted","updateInnerWrapperHeight","updateNavStatus","getMaxSlideHeight","slideStart","slideRange","heights","attr2","base","navPrev","navCurrent","getLowerCaseNodeName","isAriaDisabled","disEnableElement","prevDisabled","nextDisabled","disablePrev","disableNext","resetDuration","getSliderWidth","getCenterGap","denominator","animateSlide","number","classOut","classIn","isOut","transformCore","render","sliderMoved","strTrans","event","propertyName","goTo","targetIndex","indexGap","isNaN","factor","passEventObject","targetIn","navIndex","targetIndexBase","setAutoplayTimer","setInterval","stopAutoplayTimer","updateAutoplayButton","action","play","pause","hidden","keyIndex","keyCode","setFocus","focus","curElement","activeElement","isTouchEvent","changedTouches","srcElement","preventDefaultBehavior","preventDefault","returnValue","getMoveDirectionExpected","$","clientX","clientY","panUpdate","dist","percentageX","preventClick","indexMoved","moved","rough","version","getInfo","updateSliderHeight","refresh","rebuild","BlockComponent","sanitizer","bodyHtml","linkRenderer","codeRenderer","language","blockRenderer","pureHtml","sanity","bypassSecurityTrustHtml","templateUrl","styleUrls","changeDetection","OnPush","NavbarComponent","isActive","path","toggleActive","ToolSliderComponent","defaultOptions","tools","slider","startSlider","BlogAuthorPage","BlogPostPage","BlogPostsPage","HomePage","SharedModule","declarations","imports"],"mappings":"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","file":"default~blog-blog-module~home-home-module-es5.js","sourcesContent":["'use strict';\n\nvar blocksToHyperScript = require('@sanity/block-content-to-hyperscript');\n\nvar h = blocksToHyperScript.renderNode;\nvar blocksToHtml = function blocksToHtml(options) {\n  var rootNode = blocksToHyperScript(options);\n  return rootNode.outerHTML || rootNode;\n};\n\nblocksToHtml.defaultSerializers = blocksToHyperScript.defaultSerializers;\nblocksToHtml.getImageUrl = blocksToHyperScript.getImageUrl;\nblocksToHtml.renderNode = h;\nblocksToHtml.h = h;\n\nmodule.exports = blocksToHtml;\n//# sourceMappingURL=blocksToHtml.js.map","\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nvar buildMarksTree = require('./buildMarksTree');\n\nvar nestLists = require('./nestLists');\n\nvar generateKeys = require('./generateKeys');\n\nvar mergeSerializers = require('./mergeSerializers'); // Properties to extract from props and pass to serializers as options\n\n\nvar optionProps = ['projectId', 'dataset', 'imageOptions'];\n\nvar isDefined = function isDefined(val) {\n  return typeof val !== 'undefined';\n};\n\nvar defaults = {\n  imageOptions: {}\n};\n\nfunction blocksToNodes(h, properties, defaultSerializers, serializeSpan) {\n  var props = objectAssign({}, defaults, properties);\n  var rawBlocks = Array.isArray(props.blocks) ? props.blocks : [props.blocks];\n  var keyedBlocks = generateKeys(rawBlocks);\n  var blocks = nestLists(keyedBlocks, props.listNestMode);\n  var serializers = mergeSerializers(defaultSerializers, props.serializers || {});\n  var options = optionProps.reduce(function (opts, key) {\n    var value = props[key];\n\n    if (isDefined(value)) {\n      opts[key] = value;\n    }\n\n    return opts;\n  }, {});\n\n  function serializeNode(node, index, siblings, isInline) {\n    if (isList(node)) {\n      return serializeList(node);\n    }\n\n    if (isListItem(node)) {\n      return serializeListItem(node, findListItemIndex(node, siblings));\n    }\n\n    if (isSpan(node)) {\n      return serializeSpan(node, serializers, index, {\n        serializeNode: serializeNode\n      });\n    }\n\n    return serializeBlock(node, index, isInline);\n  }\n\n  function findListItemIndex(node, siblings) {\n    var index = 0;\n\n    for (var i = 0; i < siblings.length; i++) {\n      if (siblings[i] === node) {\n        return index;\n      }\n\n      if (!isListItem(siblings[i])) {\n        continue;\n      }\n\n      index++;\n    }\n\n    return index;\n  }\n\n  function serializeBlock(block, index, isInline) {\n    var tree = buildMarksTree(block);\n    var children = tree.map(function (node, i, siblings) {\n      return serializeNode(node, i, siblings, true);\n    });\n    var blockProps = {\n      key: block._key || \"block-\".concat(index),\n      node: block,\n      isInline: isInline,\n      serializers: serializers,\n      options: options\n    };\n    return h(serializers.block, blockProps, children);\n  }\n\n  function serializeListItem(block, index) {\n    var key = block._key;\n    var tree = buildMarksTree(block);\n    var children = tree.map(serializeNode);\n    return h(serializers.listItem, {\n      node: block,\n      serializers: serializers,\n      index: index,\n      key: key,\n      options: options\n    }, children);\n  }\n\n  function serializeList(list) {\n    var type = list.listItem;\n    var level = list.level;\n    var key = list._key;\n    var children = list.children.map(serializeNode);\n    return h(serializers.list, {\n      key: key,\n      level: level,\n      type: type,\n      options: options\n    }, children);\n  } // Default to false, so `undefined` will evaluate to the default here\n\n\n  var renderContainerOnSingleChild = Boolean(props.renderContainerOnSingleChild);\n  var nodes = blocks.map(serializeNode);\n\n  if (renderContainerOnSingleChild || nodes.length > 1) {\n    var containerProps = props.className ? {\n      className: props.className\n    } : {};\n    return h(serializers.container, containerProps, nodes);\n  }\n\n  if (nodes[0]) {\n    return nodes[0];\n  }\n\n  return typeof serializers.empty === 'function' ? h(serializers.empty) : serializers.empty;\n}\n\nfunction isList(block) {\n  return block._type === 'list' && block.listItem;\n}\n\nfunction isListItem(block) {\n  return block._type === 'block' && block.listItem;\n}\n\nfunction isSpan(block) {\n  return typeof block === 'string' || block.marks || block._type === 'span';\n}\n\nmodule.exports = blocksToNodes;\n//# sourceMappingURL=blocksToNodes.js.map","\"use strict\";\n\nvar defaultMarks = ['strong', 'em', 'code', 'underline', 'strike-through'];\n\nvar buildMarksTree = function buildMarksTree(block) {\n  var children = block.children,\n      markDefs = block.markDefs;\n\n  if (!children || !children.length) {\n    return [];\n  }\n\n  var sortedMarks = children.map(sortMarksByOccurences);\n  var rootNode = {\n    _type: 'span',\n    children: []\n  };\n  var nodeStack = [rootNode];\n  children.forEach(function (span, i) {\n    var marksNeeded = sortedMarks[i];\n\n    if (!marksNeeded) {\n      var lastNode = nodeStack[nodeStack.length - 1];\n      lastNode.children.push(span);\n      return;\n    }\n\n    var pos = 1; // Start at position one. Root is always plain and should never be removed. (?)\n\n    if (nodeStack.length > 1) {\n      for (pos; pos < nodeStack.length; pos++) {\n        var mark = nodeStack[pos].markKey;\n        var index = marksNeeded.indexOf(mark); // eslint-disable-next-line max-depth\n\n        if (index === -1) {\n          break;\n        }\n\n        marksNeeded.splice(index, 1);\n      }\n    } // Keep from beginning to first miss\n\n\n    nodeStack = nodeStack.slice(0, pos); // Add needed nodes\n\n    var currentNode = findLastParentNode(nodeStack);\n    marksNeeded.forEach(function (mark) {\n      var node = {\n        _type: 'span',\n        _key: span._key,\n        children: [],\n        mark: markDefs.find(function (def) {\n          return def._key === mark;\n        }) || mark,\n        markKey: mark\n      };\n      currentNode.children.push(node);\n      nodeStack.push(node);\n      currentNode = node;\n    }); // Split at newlines to make individual line chunks, but keep newline\n    // characters as individual elements in the array. We use these characters\n    // in the span serializer to trigger hard-break rendering\n\n    if (isTextSpan(span)) {\n      var lines = span.text.split('\\n');\n\n      for (var line = lines.length; line-- > 1;) {\n        lines.splice(line, 0, '\\n');\n      }\n\n      currentNode.children = currentNode.children.concat(lines);\n    } else {\n      currentNode.children = currentNode.children.concat(span);\n    }\n  });\n  return rootNode.children;\n}; // We want to sort all the marks of all the spans in the following order:\n// 1. Marks that are shared amongst the most adjacent siblings\n// 2. Non-default marks (links, custom metadata)\n// 3. Built-in, plain marks (bold, emphasis, code etc)\n\n\nfunction sortMarksByOccurences(span, i, spans) {\n  if (!span.marks || span.marks.length === 0) {\n    return span.marks || [];\n  }\n\n  var markOccurences = span.marks.reduce(function (occurences, mark) {\n    occurences[mark] = occurences[mark] ? occurences[mark] + 1 : 1;\n\n    for (var siblingIndex = i + 1; siblingIndex < spans.length; siblingIndex++) {\n      var sibling = spans[siblingIndex];\n\n      if (sibling.marks && Array.isArray(sibling.marks) && sibling.marks.indexOf(mark) !== -1) {\n        occurences[mark]++;\n      } else {\n        break;\n      }\n    }\n\n    return occurences;\n  }, {});\n  var sortByOccurence = sortMarks.bind(null, markOccurences); // Slicing because sort() mutates the input\n\n  return span.marks.slice().sort(sortByOccurence);\n}\n\nfunction sortMarks(occurences, markA, markB) {\n  var aOccurences = occurences[markA] || 0;\n  var bOccurences = occurences[markB] || 0;\n\n  if (aOccurences !== bOccurences) {\n    return bOccurences - aOccurences;\n  }\n\n  var aDefaultPos = defaultMarks.indexOf(markA);\n  var bDefaultPos = defaultMarks.indexOf(markB); // Sort default marks last\n\n  if (aDefaultPos !== bDefaultPos) {\n    return aDefaultPos - bDefaultPos;\n  } // Sort other marks simply by key\n\n\n  if (markA < markB) {\n    return -1;\n  } else if (markA > markB) {\n    return 1;\n  }\n\n  return 0;\n}\n\nfunction isTextSpan(node) {\n  return node._type === 'span' && typeof node.text === 'string' && (Array.isArray(node.marks) || typeof node.marks === 'undefined');\n}\n\nfunction findLastParentNode(nodes) {\n  for (var i = nodes.length - 1; i >= 0; i--) {\n    var node = nodes[i];\n\n    if (node._type === 'span' && node.children) {\n      return node;\n    }\n  }\n\n  return undefined;\n}\n\nmodule.exports = buildMarksTree;\n//# sourceMappingURL=buildMarksTree.js.map","\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nmodule.exports = function (blocks) {\n  return blocks.map(function (block) {\n    if (block._key) {\n      return block;\n    }\n\n    return objectAssign({\n      _key: getStaticKey(block)\n    }, block);\n  });\n};\n\nfunction getStaticKey(item) {\n  return checksum(JSON.stringify(item)).toString(36).replace(/[^A-Za-z0-9]/g, '');\n}\n/* eslint-disable no-bitwise */\n\n\nfunction checksum(str) {\n  var hash = 0;\n  var strlen = str.length;\n\n  if (strlen === 0) {\n    return hash;\n  }\n\n  for (var i = 0; i < strlen; i++) {\n    hash = (hash << 5) - hash + str.charCodeAt(i);\n    hash &= hash; // Convert to 32bit integer\n  }\n\n  return hash;\n}\n/* eslint-enable no-bitwise */\n//# sourceMappingURL=generateKeys.js.map","\"use strict\";\n\nvar generateHelpUrl = require('@sanity/generate-help-url');\n\nvar urlBuilder = require('@sanity/image-url');\n\nvar objectAssign = require('object-assign');\n\nvar enc = encodeURIComponent;\nvar materializeError = \"You must either:\\n  - Pass `projectId` and `dataset` to the block renderer\\n  - Materialize images to include the `url` field.\\n\\nFor more information, see \".concat(generateHelpUrl('block-content-image-materializing'));\n\nvar getQueryString = function getQueryString(options) {\n  var query = options.imageOptions;\n  var keys = Object.keys(query);\n\n  if (!keys.length) {\n    return '';\n  }\n\n  var params = keys.map(function (key) {\n    return \"\".concat(enc(key), \"=\").concat(enc(query[key]));\n  });\n  return \"?\".concat(params.join('&'));\n};\n\nvar buildUrl = function buildUrl(props) {\n  var node = props.node,\n      options = props.options;\n  var projectId = options.projectId,\n      dataset = options.dataset;\n  var asset = node.asset;\n\n  if (!asset) {\n    throw new Error('Image does not have required `asset` property');\n  }\n\n  if (asset.url) {\n    return asset.url + getQueryString(options);\n  }\n\n  if (!projectId || !dataset) {\n    throw new Error(materializeError);\n  }\n\n  var ref = asset._ref;\n\n  if (!ref) {\n    throw new Error('Invalid image reference in block, no `_ref` found on `asset`');\n  }\n\n  return urlBuilder(objectAssign({\n    projectId: projectId,\n    dataset: dataset\n  }, options.imageOptions || {})).image(node).toString();\n};\n\nmodule.exports = buildUrl;\n//# sourceMappingURL=getImageUrl.js.map","\"use strict\";\n\nvar hyperscript = require('hyperscript');\n\nvar objectAssign = require('object-assign');\n\nvar getImageUrl = require('./getImageUrl');\n\nvar blocksToNodes = require('./blocksToNodes');\n\nvar getSerializers = require('./serializers');\n\nvar renderNode = function renderNode(serializer, properties, children) {\n  var props = properties || {};\n\n  if (typeof serializer === 'function') {\n    return serializer(objectAssign({}, props, {\n      children: children\n    }));\n  }\n\n  var tag = serializer;\n  var childNodes = props.children || children;\n  return hyperscript(tag, props, childNodes);\n};\n\nvar _getSerializers = getSerializers(renderNode, {\n  useDashedStyles: true\n}),\n    defaultSerializers = _getSerializers.defaultSerializers,\n    serializeSpan = _getSerializers.serializeSpan;\n\nvar blockContentToHyperscript = function blockContentToHyperscript(options) {\n  return blocksToNodes(renderNode, options, defaultSerializers, serializeSpan);\n}; // Expose default serializers to the user\n\n\nblockContentToHyperscript.defaultSerializers = defaultSerializers; // Expose logic for building image URLs from an image reference/node\n\nblockContentToHyperscript.getImageUrl = getImageUrl; // Expose node renderer\n\nblockContentToHyperscript.renderNode = renderNode;\nmodule.exports = blockContentToHyperscript;\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar objectAssign = require('object-assign');\n\nvar isDefined = function isDefined(val) {\n  return typeof val !== 'undefined';\n}; // Recursively merge/replace default serializers with user-specified serializers\n\n\nmodule.exports = function mergeSerializers(defaultSerializers, userSerializers) {\n  return Object.keys(defaultSerializers).reduce(function (acc, key) {\n    var type = _typeof(defaultSerializers[key]);\n\n    if (type === 'function') {\n      acc[key] = isDefined(userSerializers[key]) ? userSerializers[key] : defaultSerializers[key];\n    } else if (type === 'object') {\n      acc[key] = objectAssign({}, defaultSerializers[key], userSerializers[key]);\n    } else {\n      acc[key] = typeof userSerializers[key] === 'undefined' ? defaultSerializers[key] : userSerializers[key];\n    }\n\n    return acc;\n  }, {});\n};\n//# sourceMappingURL=mergeSerializers.js.map","\"use strict\";\n\nvar objectAssign = require('object-assign');\n/* eslint-disable max-depth, complexity */\n\n\nfunction nestLists(blocks) {\n  var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'html';\n  var tree = [];\n  var currentList;\n\n  for (var i = 0; i < blocks.length; i++) {\n    var block = blocks[i];\n\n    if (!isListBlock(block)) {\n      tree.push(block);\n      currentList = null;\n      continue;\n    } // Start of a new list?\n\n\n    if (!currentList) {\n      currentList = listFromBlock(block);\n      tree.push(currentList);\n      continue;\n    } // New list item within same list?\n\n\n    if (blockMatchesList(block, currentList)) {\n      currentList.children.push(block);\n      continue;\n    } // Different list props, are we going deeper?\n\n\n    if (block.level > currentList.level) {\n      var newList = listFromBlock(block);\n\n      if (mode === 'html') {\n        // Because HTML is kinda weird, nested lists needs to be nested within list items\n        // So while you would think that we could populate the parent list with a new sub-list,\n        // We actually have to target the last list element (child) of the parent.\n        // However, at this point we need to be very careful - simply pushing to the list of children\n        // will mutate the input, and we don't want to blindly clone the entire tree.\n        // Clone the last child while adding our new list as the last child of it\n        var lastListItem = lastChild(currentList);\n        var newLastChild = objectAssign({}, lastListItem, {\n          children: lastListItem.children.concat(newList)\n        }); // Swap the last child\n\n        currentList.children[currentList.children.length - 1] = newLastChild;\n      } else {\n        currentList.children.push(newList);\n      } // Set the newly created, deeper list as the current\n\n\n      currentList = newList;\n      continue;\n    } // Different list props, are we going back up the tree?\n\n\n    if (block.level < currentList.level) {\n      // Current list has ended, and we need to hook up with a parent of the same level and type\n      var match = findListMatching(tree[tree.length - 1], block);\n\n      if (match) {\n        currentList = match;\n        currentList.children.push(block);\n        continue;\n      } // Similar parent can't be found, assume new list\n\n\n      currentList = listFromBlock(block);\n      tree.push(currentList);\n      continue;\n    } // Different list props, different list style?\n\n\n    if (block.listItem !== currentList.listItem) {\n      var _match = findListMatching(tree[tree.length - 1], {\n        level: block.level\n      });\n\n      if (_match && _match.listItem === block.listItem) {\n        currentList = _match;\n        currentList.children.push(block);\n        continue;\n      } else {\n        currentList = listFromBlock(block);\n        tree.push(currentList);\n        continue;\n      }\n    } // eslint-disable-next-line no-console\n\n\n    console.warn('Unknown state encountered for block', block);\n    tree.push(block);\n  }\n\n  return tree;\n}\n\nfunction isListBlock(block) {\n  return Boolean(block.listItem);\n}\n\nfunction blockMatchesList(block, list) {\n  return block.level === list.level && block.listItem === list.listItem;\n}\n\nfunction listFromBlock(block) {\n  return {\n    _type: 'list',\n    _key: \"\".concat(block._key, \"-parent\"),\n    level: block.level,\n    listItem: block.listItem,\n    children: [block]\n  };\n}\n\nfunction lastChild(block) {\n  return block.children && block.children[block.children.length - 1];\n}\n\nfunction findListMatching(rootNode, matching) {\n  var filterOnType = typeof matching.listItem === 'string';\n\n  if (rootNode._type === 'list' && rootNode.level === matching.level && filterOnType && rootNode.listItem === matching.listItem) {\n    return rootNode;\n  }\n\n  var node = lastChild(rootNode);\n\n  if (!node) {\n    return false;\n  }\n\n  return findListMatching(node, matching);\n}\n\nmodule.exports = nestLists;\n//# sourceMappingURL=nestLists.js.map","\"use strict\";\n\nvar objectAssign = require('object-assign');\n\nvar getImageUrl = require('./getImageUrl');\n\nmodule.exports = function (h, serializerOpts) {\n  var serializeOptions = serializerOpts || {\n    useDashedStyles: false // Low-level block serializer\n\n  };\n\n  function BlockSerializer(props) {\n    var node = props.node,\n        serializers = props.serializers,\n        options = props.options,\n        isInline = props.isInline,\n        children = props.children;\n    var blockType = node._type;\n    var serializer = serializers.types[blockType];\n\n    if (!serializer) {\n      throw new Error(\"Unknown block type \\\"\".concat(blockType, \"\\\", please specify a serializer for it in the `serializers.types` prop\"));\n    }\n\n    return h(serializer, {\n      node: node,\n      options: options,\n      isInline: isInline\n    }, children);\n  } // Low-level span serializer\n\n\n  function SpanSerializer(props) {\n    var _props$node = props.node,\n        mark = _props$node.mark,\n        children = _props$node.children;\n    var isPlain = typeof mark === 'string';\n    var markType = isPlain ? mark : mark._type;\n    var serializer = props.serializers.marks[markType];\n\n    if (!serializer) {\n      // @todo Revert back to throwing errors?\n      // eslint-disable-next-line no-console\n      console.warn(\"Unknown mark type \\\"\".concat(markType, \"\\\", please specify a serializer for it in the `serializers.marks` prop\"));\n      return h(props.serializers.markFallback, null, children);\n    }\n\n    return h(serializer, props.node, children);\n  } // Low-level list serializer\n\n\n  function ListSerializer(props) {\n    var tag = props.type === 'bullet' ? 'ul' : 'ol';\n    return h(tag, null, props.children);\n  } // Low-level list item serializer\n\n\n  function ListItemSerializer(props) {\n    var children = !props.node.style || props.node.style === 'normal' ? // Don't wrap plain text in paragraphs inside of a list item\n    props.children : // But wrap any other style in whatever the block serializer says to use\n    h(props.serializers.types.block, props, props.children);\n    return h('li', null, children);\n  } // Renderer of an actual block of type `block`. Confusing, we know.\n\n\n  function BlockTypeSerializer(props) {\n    var style = props.node.style || 'normal';\n\n    if (/^h\\d/.test(style)) {\n      return h(style, null, props.children);\n    }\n\n    return style === 'blockquote' ? h('blockquote', null, props.children) : h('p', null, props.children);\n  } // Serializers for things that can be directly attributed to a tag without any props\n  // We use partial application to do this, passing the tag name as the first argument\n\n\n  function RawMarkSerializer(tag, props) {\n    return h(tag, null, props.children);\n  }\n\n  function UnderlineSerializer(props) {\n    var style = serializeOptions.useDashedStyles ? {\n      'text-decoration': 'underline'\n    } : {\n      textDecoration: 'underline'\n    };\n    return h('span', {\n      style: style\n    }, props.children);\n  }\n\n  function StrikeThroughSerializer(props) {\n    return h('del', null, props.children);\n  }\n\n  function LinkSerializer(props) {\n    return h('a', {\n      href: props.mark.href\n    }, props.children);\n  }\n\n  function ImageSerializer(props) {\n    if (!props.node.asset) {\n      return null;\n    }\n\n    var img = h('img', {\n      src: getImageUrl(props)\n    });\n    return props.isInline ? img : h('figure', null, img);\n  } // Serializer that recursively calls itself, producing a hyperscript tree of spans\n\n\n  function serializeSpan(span, serializers, index, options) {\n    if (span === '\\n' && serializers.hardBreak) {\n      return h(serializers.hardBreak, {\n        key: \"hb-\".concat(index)\n      });\n    }\n\n    if (typeof span === 'string') {\n      return serializers.text ? h(serializers.text, {\n        key: \"text-\".concat(index)\n      }, span) : span;\n    }\n\n    var children;\n\n    if (span.children) {\n      children = {\n        children: span.children.map(function (child, i) {\n          return options.serializeNode(child, i, span.children, true);\n        })\n      };\n    }\n\n    var serializedNode = objectAssign({}, span, children);\n    return h(serializers.span, {\n      key: span._key || \"span-\".concat(index),\n      node: serializedNode,\n      serializers: serializers\n    });\n  }\n\n  var HardBreakSerializer = function HardBreakSerializer() {\n    return h('br');\n  };\n\n  var defaultMarkSerializers = {\n    strong: RawMarkSerializer.bind(null, 'strong'),\n    em: RawMarkSerializer.bind(null, 'em'),\n    code: RawMarkSerializer.bind(null, 'code'),\n    underline: UnderlineSerializer,\n    'strike-through': StrikeThroughSerializer,\n    link: LinkSerializer\n  };\n  var defaultSerializers = {\n    // Common overrides\n    types: {\n      block: BlockTypeSerializer,\n      image: ImageSerializer\n    },\n    marks: defaultMarkSerializers,\n    // Less common overrides\n    list: ListSerializer,\n    listItem: ListItemSerializer,\n    block: BlockSerializer,\n    span: SpanSerializer,\n    hardBreak: HardBreakSerializer,\n    // Container element\n    container: 'div',\n    // When we can't resolve the mark properly, use this renderer as the container\n    markFallback: 'span',\n    // Allow overriding text renderer, but leave undefined to just use plain strings by default\n    text: undefined,\n    // Empty nodes (React uses null, hyperscript with empty strings)\n    empty: ''\n  };\n  return {\n    defaultSerializers: defaultSerializers,\n    serializeSpan: serializeSpan\n  };\n};\n//# sourceMappingURL=serializers.js.map","var baseUrl = 'https://docs.sanity.io/help/'\n\nmodule.exports = function generateHelpUrl(slug) {\n  return baseUrl + slug\n}\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.SanityImageUrlBuilder = factory());\n}(this, (function () {\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n    return arr2;\n  }\n\n  function _createForOfIteratorHelperLoose(o) {\n    var i = 0;\n\n    if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n      if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) return function () {\n        if (i >= o.length) return {\n          done: true\n        };\n        return {\n          done: false,\n          value: o[i++]\n        };\n      };\n      throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n    }\n\n    i = o[Symbol.iterator]();\n    return i.next.bind(i);\n  }\n\n  var example = 'image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg';\n  function parseAssetId(ref) {\n    var _ref$split = ref.split('-'),\n        id = _ref$split[1],\n        dimensionString = _ref$split[2],\n        format = _ref$split[3];\n\n    if (!id || !dimensionString || !format) {\n      throw new Error(\"Malformed asset _ref '\" + ref + \"'. Expected an id like \\\"\" + example + \"\\\".\");\n    }\n\n    var _dimensionString$spli = dimensionString.split('x'),\n        imgWidthStr = _dimensionString$spli[0],\n        imgHeightStr = _dimensionString$spli[1];\n\n    var width = +imgWidthStr;\n    var height = +imgHeightStr;\n    var isValidAssetId = isFinite(width) && isFinite(height);\n\n    if (!isValidAssetId) {\n      throw new Error(\"Malformed asset _ref '\" + ref + \"'. Expected an id like \\\"\" + example + \"\\\".\");\n    }\n\n    return {\n      id: id,\n      width: width,\n      height: height,\n      format: format\n    };\n  }\n\n  var isRef = function isRef(src) {\n    var source = src;\n    return source ? typeof source._ref === 'string' : false;\n  };\n\n  var isAsset = function isAsset(src) {\n    var source = src;\n    return source ? typeof source._id === 'string' : false;\n  };\n\n  var isAssetStub = function isAssetStub(src) {\n    var source = src;\n    return source && source.asset ? typeof source.asset.url === 'string' : false;\n  };\n\n  function parseSource(source) {\n    if (!source) {\n      return null;\n    }\n\n    var image;\n\n    if (typeof source === 'string' && isUrl(source)) {\n      image = {\n        asset: {\n          _ref: urlToId(source)\n        }\n      };\n    } else if (typeof source === 'string') {\n      image = {\n        asset: {\n          _ref: source\n        }\n      };\n    } else if (isRef(source)) {\n      image = {\n        asset: source\n      };\n    } else if (isAsset(source)) {\n      image = {\n        asset: {\n          _ref: source._id || ''\n        }\n      };\n    } else if (isAssetStub(source)) {\n      image = {\n        asset: {\n          _ref: urlToId(source.asset.url)\n        }\n      };\n    } else if (typeof source.asset === 'object') {\n      image = source;\n    } else {\n      return null;\n    }\n\n    var img = source;\n\n    if (img.crop) {\n      image.crop = img.crop;\n    }\n\n    if (img.hotspot) {\n      image.hotspot = img.hotspot;\n    }\n\n    return applyDefaults(image);\n  }\n\n  function isUrl(url) {\n    return /^https?:\\/\\//.test(\"\" + url);\n  }\n\n  function urlToId(url) {\n    var parts = url.split('/').slice(-1);\n    return (\"image-\" + parts[0]).replace(/\\.([a-z]+)$/, '-$1');\n  }\n\n  function applyDefaults(image) {\n    if (image.crop && image.hotspot) {\n      return image;\n    }\n\n    var result = _extends({}, image);\n\n    if (!result.crop) {\n      result.crop = {\n        left: 0,\n        top: 0,\n        bottom: 0,\n        right: 0\n      };\n    }\n\n    if (!result.hotspot) {\n      result.hotspot = {\n        x: 0.5,\n        y: 0.5,\n        height: 1.0,\n        width: 1.0\n      };\n    }\n\n    return result;\n  }\n\n  var SPEC_NAME_TO_URL_NAME_MAPPINGS = [['width', 'w'], ['height', 'h'], ['format', 'fm'], ['download', 'dl'], ['blur', 'blur'], ['sharpen', 'sharp'], ['invert', 'invert'], ['orientation', 'or'], ['minHeight', 'min-h'], ['maxHeight', 'max-h'], ['minWidth', 'min-w'], ['maxWidth', 'max-w'], ['quality', 'q'], ['fit', 'fit'], ['crop', 'crop'], ['saturation', 'sat'], ['auto', 'auto'], ['dpr', 'dpr']];\n  function urlForImage(options) {\n    var spec = _extends({}, options || {});\n\n    var source = spec.source;\n    delete spec.source;\n    var image = parseSource(source);\n\n    if (!image) {\n      return null;\n    }\n\n    var id = image.asset._ref || image.asset._id || '';\n    var asset = parseAssetId(id);\n    var cropLeft = Math.round(image.crop.left * asset.width);\n    var cropTop = Math.round(image.crop.top * asset.height);\n    var crop = {\n      left: cropLeft,\n      top: cropTop,\n      width: Math.round(asset.width - image.crop.right * asset.width - cropLeft),\n      height: Math.round(asset.height - image.crop.bottom * asset.height - cropTop)\n    };\n    var hotSpotVerticalRadius = image.hotspot.height * asset.height / 2;\n    var hotSpotHorizontalRadius = image.hotspot.width * asset.width / 2;\n    var hotSpotCenterX = image.hotspot.x * asset.width;\n    var hotSpotCenterY = image.hotspot.y * asset.height;\n    var hotspot = {\n      left: hotSpotCenterX - hotSpotHorizontalRadius,\n      top: hotSpotCenterY - hotSpotVerticalRadius,\n      right: hotSpotCenterX + hotSpotHorizontalRadius,\n      bottom: hotSpotCenterY + hotSpotVerticalRadius\n    };\n\n    if (!(spec.rect || spec.focalPoint || spec.ignoreImageParams || spec.crop)) {\n      spec = _extends(_extends({}, spec), fit({\n        crop: crop,\n        hotspot: hotspot\n      }, spec));\n    }\n\n    return specToImageUrl(_extends(_extends({}, spec), {}, {\n      asset: asset\n    }));\n  }\n\n  function specToImageUrl(spec) {\n    var cdnUrl = spec.baseUrl || 'https://cdn.sanity.io';\n    var filename = spec.asset.id + \"-\" + spec.asset.width + \"x\" + spec.asset.height + \".\" + spec.asset.format;\n    var baseUrl = cdnUrl + \"/images/\" + spec.projectId + \"/\" + spec.dataset + \"/\" + filename;\n    var params = [];\n\n    if (spec.rect) {\n      var _spec$rect = spec.rect,\n          left = _spec$rect.left,\n          top = _spec$rect.top,\n          width = _spec$rect.width,\n          height = _spec$rect.height;\n      var isEffectiveCrop = left !== 0 || top !== 0 || height !== spec.asset.height || width !== spec.asset.width;\n\n      if (isEffectiveCrop) {\n        params.push(\"rect=\" + left + \",\" + top + \",\" + width + \",\" + height);\n      }\n    }\n\n    if (spec.bg) {\n      params.push(\"bg=\" + spec.bg);\n    }\n\n    if (spec.focalPoint) {\n      params.push(\"fp-x=\" + spec.focalPoint.x);\n      params.push(\"fp-y=\" + spec.focalPoint.y);\n    }\n\n    var flip = [spec.flipHorizontal && 'h', spec.flipVertical && 'v'].filter(Boolean).join('');\n\n    if (flip) {\n      params.push(\"flip=\" + flip);\n    }\n\n    SPEC_NAME_TO_URL_NAME_MAPPINGS.forEach(function (mapping) {\n      var specName = mapping[0],\n          param = mapping[1];\n\n      if (typeof spec[specName] !== 'undefined') {\n        params.push(param + \"=\" + encodeURIComponent(spec[specName]));\n      } else if (typeof spec[param] !== 'undefined') {\n        params.push(param + \"=\" + encodeURIComponent(spec[param]));\n      }\n    });\n\n    if (params.length === 0) {\n      return baseUrl;\n    }\n\n    return baseUrl + \"?\" + params.join('&');\n  }\n\n  function fit(source, spec) {\n    var cropRect;\n    var imgWidth = spec.width;\n    var imgHeight = spec.height;\n\n    if (!(imgWidth && imgHeight)) {\n      return {\n        width: imgWidth,\n        height: imgHeight,\n        rect: source.crop\n      };\n    }\n\n    var crop = source.crop;\n    var hotspot = source.hotspot;\n    var desiredAspectRatio = imgWidth / imgHeight;\n    var cropAspectRatio = crop.width / crop.height;\n\n    if (cropAspectRatio > desiredAspectRatio) {\n      var height = crop.height;\n      var width = height * desiredAspectRatio;\n      var top = crop.top;\n      var hotspotXCenter = (hotspot.right - hotspot.left) / 2 + hotspot.left;\n      var left = hotspotXCenter - width / 2;\n\n      if (left < crop.left) {\n        left = crop.left;\n      } else if (left + width > crop.left + crop.width) {\n        left = crop.left + crop.width - width;\n      }\n\n      cropRect = {\n        left: Math.round(left),\n        top: Math.round(top),\n        width: Math.round(width),\n        height: Math.round(height)\n      };\n    } else {\n      var _width = crop.width;\n\n      var _height = _width / desiredAspectRatio;\n\n      var _left = crop.left;\n      var hotspotYCenter = (hotspot.bottom - hotspot.top) / 2 + hotspot.top;\n\n      var _top = hotspotYCenter - _height / 2;\n\n      if (_top < crop.top) {\n        _top = crop.top;\n      } else if (_top + _height > crop.top + crop.height) {\n        _top = crop.top + crop.height - _height;\n      }\n\n      cropRect = {\n        left: Math.max(0, Math.floor(_left)),\n        top: Math.max(0, Math.floor(_top)),\n        width: Math.round(_width),\n        height: Math.round(_height)\n      };\n    }\n\n    return {\n      width: imgWidth,\n      height: imgHeight,\n      rect: cropRect\n    };\n  }\n\n  var validFits = ['clip', 'crop', 'fill', 'fillmax', 'max', 'scale', 'min'];\n  var validCrops = ['top', 'bottom', 'left', 'right', 'center', 'focalpoint', 'entropy'];\n  var validAutoModes = ['format'];\n\n  function isSanityClient(client) {\n    return client ? typeof client.clientConfig === 'object' : false;\n  }\n\n  function rewriteSpecName(key) {\n    var specs = SPEC_NAME_TO_URL_NAME_MAPPINGS;\n\n    for (var _iterator = _createForOfIteratorHelperLoose(specs), _step; !(_step = _iterator()).done;) {\n      var entry = _step.value;\n      var specName = entry[0],\n          param = entry[1];\n\n      if (key === specName || key === param) {\n        return specName;\n      }\n    }\n\n    return key;\n  }\n\n  function urlBuilder(options) {\n    var client = options;\n\n    if (isSanityClient(client)) {\n      var _client$clientConfig = client.clientConfig,\n          apiUrl = _client$clientConfig.apiHost,\n          projectId = _client$clientConfig.projectId,\n          dataset = _client$clientConfig.dataset;\n      var apiHost = apiUrl || 'https://api.sanity.io';\n      return new ImageUrlBuilder(null, {\n        baseUrl: apiHost.replace(/^https:\\/\\/api\\./, 'https://cdn.'),\n        projectId: projectId,\n        dataset: dataset\n      });\n    }\n\n    return new ImageUrlBuilder(null, options);\n  }\n  var ImageUrlBuilder = /*#__PURE__*/function () {\n    function ImageUrlBuilder(parent, options) {\n      this.options = parent ? _extends(_extends({}, parent.options || {}), options || {}) : _extends({}, options || {});\n    }\n\n    var _proto = ImageUrlBuilder.prototype;\n\n    _proto.withOptions = function withOptions(options) {\n      var baseUrl = options.baseUrl || this.options.baseUrl;\n      var newOptions = {\n        baseUrl: baseUrl\n      };\n\n      for (var key in options) {\n        if (options.hasOwnProperty(key)) {\n          var specKey = rewriteSpecName(key);\n          newOptions[specKey] = options[key];\n        }\n      }\n\n      return new ImageUrlBuilder(this, _extends({\n        baseUrl: baseUrl\n      }, newOptions));\n    };\n\n    _proto.image = function image(source) {\n      return this.withOptions({\n        source: source\n      });\n    };\n\n    _proto.dataset = function dataset(_dataset) {\n      return this.withOptions({\n        dataset: _dataset\n      });\n    };\n\n    _proto.projectId = function projectId(_projectId) {\n      return this.withOptions({\n        projectId: _projectId\n      });\n    };\n\n    _proto.bg = function bg(_bg) {\n      return this.withOptions({\n        bg: _bg\n      });\n    };\n\n    _proto.dpr = function dpr(_dpr) {\n      return this.withOptions({\n        dpr: _dpr\n      });\n    };\n\n    _proto.width = function width(_width) {\n      return this.withOptions({\n        width: _width\n      });\n    };\n\n    _proto.height = function height(_height) {\n      return this.withOptions({\n        height: _height\n      });\n    };\n\n    _proto.focalPoint = function focalPoint(x, y) {\n      return this.withOptions({\n        focalPoint: {\n          x: x,\n          y: y\n        }\n      });\n    };\n\n    _proto.maxWidth = function maxWidth(_maxWidth) {\n      return this.withOptions({\n        maxWidth: _maxWidth\n      });\n    };\n\n    _proto.minWidth = function minWidth(_minWidth) {\n      return this.withOptions({\n        minWidth: _minWidth\n      });\n    };\n\n    _proto.maxHeight = function maxHeight(_maxHeight) {\n      return this.withOptions({\n        maxHeight: _maxHeight\n      });\n    };\n\n    _proto.minHeight = function minHeight(_minHeight) {\n      return this.withOptions({\n        minHeight: _minHeight\n      });\n    };\n\n    _proto.size = function size(width, height) {\n      return this.withOptions({\n        width: width,\n        height: height\n      });\n    };\n\n    _proto.blur = function blur(_blur) {\n      return this.withOptions({\n        blur: _blur\n      });\n    };\n\n    _proto.sharpen = function sharpen(_sharpen) {\n      return this.withOptions({\n        sharpen: _sharpen\n      });\n    };\n\n    _proto.rect = function rect(left, top, width, height) {\n      return this.withOptions({\n        rect: {\n          left: left,\n          top: top,\n          width: width,\n          height: height\n        }\n      });\n    };\n\n    _proto.format = function format(_format) {\n      return this.withOptions({\n        format: _format\n      });\n    };\n\n    _proto.invert = function invert(_invert) {\n      return this.withOptions({\n        invert: _invert\n      });\n    };\n\n    _proto.orientation = function orientation(_orientation) {\n      return this.withOptions({\n        orientation: _orientation\n      });\n    };\n\n    _proto.quality = function quality(_quality) {\n      return this.withOptions({\n        quality: _quality\n      });\n    };\n\n    _proto.forceDownload = function forceDownload(download) {\n      return this.withOptions({\n        download: download\n      });\n    };\n\n    _proto.flipHorizontal = function flipHorizontal() {\n      return this.withOptions({\n        flipHorizontal: true\n      });\n    };\n\n    _proto.flipVertical = function flipVertical() {\n      return this.withOptions({\n        flipVertical: true\n      });\n    };\n\n    _proto.ignoreImageParams = function ignoreImageParams() {\n      return this.withOptions({\n        ignoreImageParams: true\n      });\n    };\n\n    _proto.fit = function fit(value) {\n      if (validFits.indexOf(value) === -1) {\n        throw new Error(\"Invalid fit mode \\\"\" + value + \"\\\"\");\n      }\n\n      return this.withOptions({\n        fit: value\n      });\n    };\n\n    _proto.crop = function crop(value) {\n      if (validCrops.indexOf(value) === -1) {\n        throw new Error(\"Invalid crop mode \\\"\" + value + \"\\\"\");\n      }\n\n      return this.withOptions({\n        crop: value\n      });\n    };\n\n    _proto.saturation = function saturation(_saturation) {\n      return this.withOptions({\n        saturation: _saturation\n      });\n    };\n\n    _proto.auto = function auto(value) {\n      if (validAutoModes.indexOf(value) === -1) {\n        throw new Error(\"Invalid auto mode \\\"\" + value + \"\\\"\");\n      }\n\n      return this.withOptions({\n        auto: value\n      });\n    };\n\n    _proto.url = function url() {\n      return urlForImage(this.options);\n    };\n\n    _proto.toString = function toString() {\n      return this.url();\n    };\n\n    return ImageUrlBuilder;\n  }();\n\n  return urlBuilder;\n\n})));\n//# sourceMappingURL=image-url.umd.js.map\n","/*!\n * Cross-Browser Split 1.1.1\n * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>\n * Available under the MIT License\n * ECMAScript compliant, uniform cross-browser split method\n */\n\n/**\n * Splits a string into an array of strings using a regex or string separator. Matches of the\n * separator are not included in the result array. However, if `separator` is a regex that contains\n * capturing groups, backreferences are spliced into the result each time `separator` is matched.\n * Fixes browser bugs compared to the native `String.prototype.split` and can be used reliably\n * cross-browser.\n * @param {String} str String to split.\n * @param {RegExp|String} separator Regex or string to use for separating the string.\n * @param {Number} [limit] Maximum number of items to include in the result array.\n * @returns {Array} Array of substrings.\n * @example\n *\n * // Basic use\n * split('a b c d', ' ');\n * // -> ['a', 'b', 'c', 'd']\n *\n * // With limit\n * split('a b c d', ' ', 2);\n * // -> ['a', 'b']\n *\n * // Backreferences in result array\n * split('..word1 word2..', /([a-z]+)(\\d+)/i);\n * // -> ['..', 'word', '1', ' ', 'word', '2', '..']\n */\nmodule.exports = (function split(undef) {\n\n  var nativeSplit = String.prototype.split,\n    compliantExecNpcg = /()??/.exec(\"\")[1] === undef,\n    // NPCG: nonparticipating capturing group\n    self;\n\n  self = function(str, separator, limit) {\n    // If `separator` is not a regex, use `nativeSplit`\n    if (Object.prototype.toString.call(separator) !== \"[object RegExp]\") {\n      return nativeSplit.call(str, separator, limit);\n    }\n    var output = [],\n      flags = (separator.ignoreCase ? \"i\" : \"\") + (separator.multiline ? \"m\" : \"\") + (separator.extended ? \"x\" : \"\") + // Proposed for ES6\n      (separator.sticky ? \"y\" : \"\"),\n      // Firefox 3+\n      lastLastIndex = 0,\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      separator = new RegExp(separator.source, flags + \"g\"),\n      separator2, match, lastIndex, lastLength;\n    str += \"\"; // Type-convert\n    if (!compliantExecNpcg) {\n      // Doesn't need flags gy, but they don't hurt\n      separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n    }\n    /* Values for `limit`, per the spec:\n     * If undefined: 4294967295 // Math.pow(2, 32) - 1\n     * If 0, Infinity, or NaN: 0\n     * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n     * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n     * If other: Type-convert, then use the above rules\n     */\n    limit = limit === undef ? -1 >>> 0 : // Math.pow(2, 32) - 1\n    limit >>> 0; // ToUint32(limit)\n    while (match = separator.exec(str)) {\n      // `separator.lastIndex` is not reliable cross-browser\n      lastIndex = match.index + match[0].length;\n      if (lastIndex > lastLastIndex) {\n        output.push(str.slice(lastLastIndex, match.index));\n        // Fix browsers whose `exec` methods don't consistently return `undefined` for\n        // nonparticipating capturing groups\n        if (!compliantExecNpcg && match.length > 1) {\n          match[0].replace(separator2, function() {\n            for (var i = 1; i < arguments.length - 2; i++) {\n              if (arguments[i] === undef) {\n                match[i] = undef;\n              }\n            }\n          });\n        }\n        if (match.length > 1 && match.index < str.length) {\n          Array.prototype.push.apply(output, match.slice(1));\n        }\n        lastLength = match[0].length;\n        lastLastIndex = lastIndex;\n        if (output.length >= limit) {\n          break;\n        }\n      }\n      if (separator.lastIndex === match.index) {\n        separator.lastIndex++; // Avoid an infinite loop\n      }\n    }\n    if (lastLastIndex === str.length) {\n      if (lastLength || !separator.test(\"\")) {\n        output.push(\"\");\n      }\n    } else {\n      output.push(str.slice(lastLastIndex));\n    }\n    return output.length > limit ? output.slice(0, limit) : output;\n  };\n\n  return self;\n})();\n","// contains, add, remove, toggle\nvar indexof = require('indexof')\n\nmodule.exports = ClassList\n\nfunction ClassList(elem) {\n    var cl = elem.classList\n\n    if (cl) {\n        return cl\n    }\n\n    var classList = {\n        add: add\n        , remove: remove\n        , contains: contains\n        , toggle: toggle\n        , toString: $toString\n        , length: 0\n        , item: item\n    }\n\n    return classList\n\n    function add(token) {\n        var list = getTokens()\n        if (indexof(list, token) > -1) {\n            return\n        }\n        list.push(token)\n        setTokens(list)\n    }\n\n    function remove(token) {\n        var list = getTokens()\n            , index = indexof(list, token)\n\n        if (index === -1) {\n            return\n        }\n\n        list.splice(index, 1)\n        setTokens(list)\n    }\n\n    function contains(token) {\n        return indexof(getTokens(), token) > -1\n    }\n\n    function toggle(token) {\n        if (contains(token)) {\n            remove(token)\n            return false\n        } else {\n            add(token)\n            return true\n        }\n    }\n\n    function $toString() {\n        return elem.className\n    }\n\n    function item(index) {\n        var tokens = getTokens()\n        return tokens[index] || null\n    }\n\n    function getTokens() {\n        var className = elem.className\n\n        return filter(className.split(\" \"), isTruthy)\n    }\n\n    function setTokens(list) {\n        var length = list.length\n\n        elem.className = list.join(\" \")\n        classList.length = length\n\n        for (var i = 0; i < list.length; i++) {\n            classList[i] = list[i]\n        }\n\n        delete list[length]\n    }\n}\n\nfunction filter (arr, fn) {\n    var ret = []\n    for (var i = 0; i < arr.length; i++) {\n        if (fn(arr[i])) ret.push(arr[i])\n    }\n    return ret\n}\n\nfunction isTruthy(value) {\n    return !!value\n}\n","var parser = require('graphql/language/parser');\n\nvar parse = parser.parse;\n\n// Strip insignificant whitespace\n// Note that this could do a lot more, such as reorder fields etc.\nfunction normalize(string) {\n  return string.replace(/[\\s,]+/g, ' ').trim();\n}\n\n// A map docString -> graphql document\nvar docCache = {};\n\n// A map fragmentName -> [normalized source]\nvar fragmentSourceMap = {};\n\nfunction cacheKeyFromLoc(loc) {\n  return normalize(loc.source.body.substring(loc.start, loc.end));\n}\n\n// For testing.\nfunction resetCaches() {\n  docCache = {};\n  fragmentSourceMap = {};\n}\n\n// Take a unstripped parsed document (query/mutation or even fragment), and\n// check all fragment definitions, checking for name->source uniqueness.\n// We also want to make sure only unique fragments exist in the document.\nvar printFragmentWarnings = true;\nfunction processFragments(ast) {\n  var astFragmentMap = {};\n  var definitions = [];\n\n  for (var i = 0; i < ast.definitions.length; i++) {\n    var fragmentDefinition = ast.definitions[i];\n\n    if (fragmentDefinition.kind === 'FragmentDefinition') {\n      var fragmentName = fragmentDefinition.name.value;\n      var sourceKey = cacheKeyFromLoc(fragmentDefinition.loc);\n\n      // We know something about this fragment\n      if (fragmentSourceMap.hasOwnProperty(fragmentName) && !fragmentSourceMap[fragmentName][sourceKey]) {\n\n        // this is a problem because the app developer is trying to register another fragment with\n        // the same name as one previously registered. So, we tell them about it.\n        if (printFragmentWarnings) {\n          console.warn(\"Warning: fragment with name \" + fragmentName + \" already exists.\\n\"\n            + \"graphql-tag enforces all fragment names across your application to be unique; read more about\\n\"\n            + \"this in the docs: http://dev.apollodata.com/core/fragments.html#unique-names\");\n        }\n\n        fragmentSourceMap[fragmentName][sourceKey] = true;\n\n      } else if (!fragmentSourceMap.hasOwnProperty(fragmentName)) {\n        fragmentSourceMap[fragmentName] = {};\n        fragmentSourceMap[fragmentName][sourceKey] = true;\n      }\n\n      if (!astFragmentMap[sourceKey]) {\n        astFragmentMap[sourceKey] = true;\n        definitions.push(fragmentDefinition);\n      }\n    } else {\n      definitions.push(fragmentDefinition);\n    }\n  }\n\n  ast.definitions = definitions;\n  return ast;\n}\n\nfunction disableFragmentWarnings() {\n  printFragmentWarnings = false;\n}\n\nfunction stripLoc(doc, removeLocAtThisLevel) {\n  var docType = Object.prototype.toString.call(doc);\n\n  if (docType === '[object Array]') {\n    return doc.map(function (d) {\n      return stripLoc(d, removeLocAtThisLevel);\n    });\n  }\n\n  if (docType !== '[object Object]') {\n    throw new Error('Unexpected input.');\n  }\n\n  // We don't want to remove the root loc field so we can use it\n  // for fragment substitution (see below)\n  if (removeLocAtThisLevel && doc.loc) {\n    delete doc.loc;\n  }\n\n  // https://github.com/apollographql/graphql-tag/issues/40\n  if (doc.loc) {\n    delete doc.loc.startToken;\n    delete doc.loc.endToken;\n  }\n\n  var keys = Object.keys(doc);\n  var key;\n  var value;\n  var valueType;\n\n  for (key in keys) {\n    if (keys.hasOwnProperty(key)) {\n      value = doc[keys[key]];\n      valueType = Object.prototype.toString.call(value);\n\n      if (valueType === '[object Object]' || valueType === '[object Array]') {\n        doc[keys[key]] = stripLoc(value, true);\n      }\n    }\n  }\n\n  return doc;\n}\n\nvar experimentalFragmentVariables = false;\nfunction parseDocument(doc) {\n  var cacheKey = normalize(doc);\n\n  if (docCache[cacheKey]) {\n    return docCache[cacheKey];\n  }\n\n  var parsed = parse(doc, { experimentalFragmentVariables: experimentalFragmentVariables });\n  if (!parsed || parsed.kind !== 'Document') {\n    throw new Error('Not a valid GraphQL document.');\n  }\n\n  // check that all \"new\" fragments inside the documents are consistent with\n  // existing fragments of the same name\n  parsed = processFragments(parsed);\n  parsed = stripLoc(parsed, false);\n  docCache[cacheKey] = parsed;\n\n  return parsed;\n}\n\nfunction enableExperimentalFragmentVariables() {\n  experimentalFragmentVariables = true;\n}\n\nfunction disableExperimentalFragmentVariables() {\n  experimentalFragmentVariables = false;\n}\n\n// XXX This should eventually disallow arbitrary string interpolation, like Relay does\nfunction gql(/* arguments */) {\n  var args = Array.prototype.slice.call(arguments);\n\n  var literals = args[0];\n\n  // We always get literals[0] and then matching post literals for each arg given\n  var result = (typeof(literals) === \"string\") ? literals : literals[0];\n\n  for (var i = 1; i < args.length; i++) {\n    if (args[i] && args[i].kind && args[i].kind === 'Document') {\n      result += args[i].loc.source.body;\n    } else {\n      result += args[i];\n    }\n\n    result += literals[i];\n  }\n\n  return parseDocument(result);\n}\n\n// Support typescript, which isn't as nice as Babel about default exports\ngql.default = gql;\ngql.resetCaches = resetCaches;\ngql.disableFragmentWarnings = disableFragmentWarnings;\ngql.enableExperimentalFragmentVariables = enableExperimentalFragmentVariables;\ngql.disableExperimentalFragmentVariables = disableExperimentalFragmentVariables;\n\nmodule.exports = gql;\n","var split = require('browser-split')\nvar ClassList = require('class-list')\n\nvar w = typeof window === 'undefined' ? require('html-element') : window\nvar document = w.document\nvar Text = w.Text\n\nfunction context () {\n\n  var cleanupFuncs = []\n\n  function h() {\n    var args = [].slice.call(arguments), e = null\n    function item (l) {\n      var r\n      function parseClass (string) {\n        // Our minimal parser doesn’t understand escaping CSS special\n        // characters like `#`. Don’t use them. More reading:\n        // https://mathiasbynens.be/notes/css-escapes .\n\n        var m = split(string, /([\\.#]?[^\\s#.]+)/)\n        if(/^\\.|#/.test(m[1]))\n          e = document.createElement('div')\n        forEach(m, function (v) {\n          var s = v.substring(1,v.length)\n          if(!v) return\n          if(!e)\n            e = document.createElement(v)\n          else if (v[0] === '.')\n            ClassList(e).add(s)\n          else if (v[0] === '#')\n            e.setAttribute('id', s)\n        })\n      }\n\n      if(l == null)\n        ;\n      else if('string' === typeof l) {\n        if(!e)\n          parseClass(l)\n        else\n          e.appendChild(r = document.createTextNode(l))\n      }\n      else if('number' === typeof l\n        || 'boolean' === typeof l\n        || l instanceof Date\n        || l instanceof RegExp ) {\n          e.appendChild(r = document.createTextNode(l.toString()))\n      }\n      //there might be a better way to handle this...\n      else if (isArray(l))\n        forEach(l, item)\n      else if(isNode(l))\n        e.appendChild(r = l)\n      else if(l instanceof Text)\n        e.appendChild(r = l)\n      else if ('object' === typeof l) {\n        for (var k in l) {\n          if('function' === typeof l[k]) {\n            if(/^on\\w+/.test(k)) {\n              (function (k, l) { // capture k, l in the closure\n                if (e.addEventListener){\n                  e.addEventListener(k.substring(2), l[k], false)\n                  cleanupFuncs.push(function(){\n                    e.removeEventListener(k.substring(2), l[k], false)\n                  })\n                }else{\n                  e.attachEvent(k, l[k])\n                  cleanupFuncs.push(function(){\n                    e.detachEvent(k, l[k])\n                  })\n                }\n              })(k, l)\n            } else {\n              // observable\n              e[k] = l[k]()\n              cleanupFuncs.push(l[k](function (v) {\n                e[k] = v\n              }))\n            }\n          }\n          else if(k === 'style') {\n            if('string' === typeof l[k]) {\n              e.style.cssText = l[k]\n            }else{\n              for (var s in l[k]) (function(s, v) {\n                if('function' === typeof v) {\n                  // observable\n                  e.style.setProperty(s, v())\n                  cleanupFuncs.push(v(function (val) {\n                    e.style.setProperty(s, val)\n                  }))\n                } else\n                  var match = l[k][s].match(/(.*)\\W+!important\\W*$/);\n                  if (match) {\n                    e.style.setProperty(s, match[1], 'important')\n                  } else {\n                    e.style.setProperty(s, l[k][s])\n                  }\n              })(s, l[k][s])\n            }\n          } else if(k === 'attrs') {\n            for (var v in l[k]) {\n              e.setAttribute(v, l[k][v])\n            }\n          }\n          else if (k.substr(0, 5) === \"data-\") {\n            e.setAttribute(k, l[k])\n          } else {\n            e[k] = l[k]\n          }\n        }\n      } else if ('function' === typeof l) {\n        //assume it's an observable!\n        var v = l()\n        e.appendChild(r = isNode(v) ? v : document.createTextNode(v))\n\n        cleanupFuncs.push(l(function (v) {\n          if(isNode(v) && r.parentElement)\n            r.parentElement.replaceChild(v, r), r = v\n          else\n            r.textContent = v\n        }))\n      }\n\n      return r\n    }\n    while(args.length)\n      item(args.shift())\n\n    return e\n  }\n\n  h.cleanup = function () {\n    for (var i = 0; i < cleanupFuncs.length; i++){\n      cleanupFuncs[i]()\n    }\n    cleanupFuncs.length = 0\n  }\n\n  return h\n}\n\nvar h = module.exports = context()\nh.context = context\n\nfunction isNode (el) {\n  return el && el.nodeName && el.nodeType\n}\n\nfunction forEach (arr, fn) {\n  if (arr.forEach) return arr.forEach(fn)\n  for (var i = 0; i < arr.length; i++) fn(arr[i], i)\n}\n\nfunction isArray (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]'\n}\n\n\n","\nvar indexOf = [].indexOf;\n\nmodule.exports = function(arr, obj){\n  if (indexOf) return arr.indexOf(obj);\n  for (var i = 0; i < arr.length; ++i) {\n    if (arr[i] === obj) return i;\n  }\n  return -1;\n};","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","// Object.keys\nif (!Object.keys) {\n  Object.keys = function(object) {\n    var keys = [];\n    for (var name in object) {\n      if (Object.prototype.hasOwnProperty.call(object, name)) {\n        keys.push(name);\n      }\n    }\n    return keys;\n  };\n}","// cross browsers addRule method\nimport { raf } from './raf.js';\nexport function addCSSRule(sheet, selector, rules, index) {\n  // return raf(function() {\n    'insertRule' in sheet ?\n      sheet.insertRule(selector + '{' + rules + '}', index) :\n      sheet.addRule(selector, rules, index);\n  // });\n}","import { classListSupport, hasClass } from './hasClass.js';\nvar addClass = classListSupport ?\n    function (el, str) {\n      if (!hasClass(el,  str)) { el.classList.add(str); }\n    } :\n    function (el, str) {\n      if (!hasClass(el,  str)) { el.className += ' ' + str; }\n    };\n\nexport { addClass };","import { passiveOption } from './passiveOption.js';\n\nexport function addEvents(el, obj, preventScrolling) {\n  for (var prop in obj) {\n    var option = ['touchstart', 'touchmove'].indexOf(prop) >= 0 && !preventScrolling ? passiveOption : false;\n    el.addEventListener(prop, obj[prop], option);\n  }\n}","export function arrayFromNodeList (nl) {\n  var arr = [];\n  for (var i = 0, l = nl.length; i < l; i++) {\n    arr.push(nl[i]);\n  }\n  return arr;\n}","var win = window;\n\nexport var caf = win.cancelAnimationFrame\n  || win.mozCancelAnimationFrame\n  || function(id){ clearTimeout(id); };\n","// get css-calc \n// @return - false | calc | -webkit-calc | -moz-calc\n// @usage - var calc = getCalc(); \nimport { getBody } from './getBody.js';\nimport { setFakeBody } from './setFakeBody.js';\nimport { resetFakeBody } from './resetFakeBody.js';\n\nexport function calc() {\n  var doc = document, \n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      div = doc.createElement('div'), \n      result = false;\n\n  body.appendChild(div);\n  try {\n    var str = '(10px * 10)',\n        vals = ['calc' + str, '-moz-calc' + str, '-webkit-calc' + str],\n        val;\n    for (var i = 0; i < 3; i++) {\n      val = vals[i];\n      div.style.width = val;\n      if (div.offsetWidth === 100) { \n        result = val.replace(str, ''); \n        break;\n      }\n    }\n  } catch (e) {}\n  \n  body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n\n  return result;\n}","export function checkStorageValue (value) {\n  return ['true', 'false'].indexOf(value) >= 0 ? JSON.parse(value) : value;\n}","// ChildNode.remove\nif(!(\"remove\" in Element.prototype)){\n  Element.prototype.remove = function(){\n    if(this.parentNode) {\n      this.parentNode.removeChild(this);\n    }\n  };\n}","export var classListSupport = 'classList' in document.createElement('_');","// create and append style sheet\nexport function createStyleSheet (media) {\n  // Create the <style> tag\n  var style = document.createElement(\"style\");\n  // style.setAttribute(\"type\", \"text/css\");\n\n  // Add a media (and/or media query) here if you'd like!\n  // style.setAttribute(\"media\", \"screen\")\n  // style.setAttribute(\"media\", \"only screen and (max-width : 1024px)\")\n  if (media) { style.setAttribute(\"media\", media); }\n\n  // WebKit hack :(\n  // style.appendChild(document.createTextNode(\"\"));\n\n  // Add the <style> element to the page\n  document.querySelector('head').appendChild(style);\n\n  return style.sheet ? style.sheet : style.styleSheet;\n};","export var docElement = document.documentElement;","export function Events() {\n  return {\n    topics: {},\n    on: function (eventName, fn) {\n      this.topics[eventName] = this.topics[eventName] || [];\n      this.topics[eventName].push(fn);\n    },\n    off: function(eventName, fn) {\n      if (this.topics[eventName]) {\n        for (var i = 0; i < this.topics[eventName].length; i++) {\n          if (this.topics[eventName][i] === fn) {\n            this.topics[eventName].splice(i, 1);\n            break;\n          }\n        }\n      }\n    },\n    emit: function (eventName, data) {\n      data.type = eventName;\n      if (this.topics[eventName]) {\n        this.topics[eventName].forEach(function(fn) {\n          fn(data, eventName);\n        });\n      }\n    }\n  };\n};","export function extend() {\n  var obj, name, copy,\n      target = arguments[0] || {},\n      i = 1,\n      length = arguments.length;\n\n  for (; i < length; i++) {\n    if ((obj = arguments[i]) !== null) {\n      for (name in obj) {\n        copy = obj[name];\n\n        if (target === copy) {\n          continue;\n        } else if (copy !== undefined) {\n          target[name] = copy;\n        }\n      }\n    }\n  }\n  return target;\n}","// https://toddmotto.com/ditch-the-array-foreach-call-nodelist-hack/\nexport function forEach (arr, callback, scope) {\n  for (var i = 0, l = arr.length; i < l; i++) {\n    callback.call(scope, arr[i], i);\n  }\n}","export function getAttr(el, attr) {\n  return el.getAttribute(attr);\n}","export function getBody () {\n  var doc = document,\n      body = doc.body;\n\n  if (!body) {\n    body = doc.createElement('body');\n    body.fake = true;\n  }\n\n  return body;\n}","export function getCssRulesLength(sheet) {\n  var rule = ('insertRule' in sheet) ? sheet.cssRules : sheet.rules;\n  return rule.length;\n}","// get transitionend, animationend based on transitionDuration\n// @propin: string\n// @propOut: string, first-letter uppercase\n// Usage: getEndProperty('WebkitTransitionDuration', 'Transition') => webkitTransitionEnd\nexport function getEndProperty(propIn, propOut) {\n  var endProp = false;\n  if (/^Webkit/.test(propIn)) {\n    endProp = 'webkit' + propOut + 'End';\n  } else if (/^O/.test(propIn)) {\n    endProp = 'o' + propOut + 'End';\n  } else if (propIn) {\n    endProp = propOut.toLowerCase() + 'end';\n  }\n  return endProp;\n}","export function getSlideId() {\n  var id = window.tnsId;\n  window.tnsId = !id ? 1 : id + 1;\n  \n  return 'tns' + window.tnsId;\n}","export function getTouchDirection(angle, range) {\n  var direction = false,\n      gap = Math.abs(90 - Math.abs(angle));\n      \n  if (gap >= 90 - range) {\n    direction = 'horizontal';\n  } else if (gap <= range) {\n    direction = 'vertical';\n  }\n\n  return direction;\n}","import { getBody } from './getBody.js';\nimport { setFakeBody } from './setFakeBody.js';\nimport { resetFakeBody } from './resetFakeBody.js';\n\nexport function has3DTransforms(tf){\n  if (!tf) { return false; }\n  if (!window.getComputedStyle) { return false; }\n  \n  var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      el = doc.createElement('p'),\n      has3d,\n      cssTF = tf.length > 9 ? '-' + tf.slice(0, -9).toLowerCase() + '-' : '';\n\n  cssTF += 'transform';\n\n  // Add it to the body to get the computed style\n  body.insertBefore(el, null);\n\n  el.style[tf] = 'translate3d(1px,1px,1px)';\n  has3d = window.getComputedStyle(el).getPropertyValue(cssTF);\n\n  body.fake ? resetFakeBody(body, docOverflow) : el.remove();\n\n  return (has3d !== undefined && has3d.length > 0 && has3d !== \"none\");\n}\n","export function hasAttr(el, attr) {\n  return el.hasAttribute(attr);\n}","import { classListSupport } from './classListSupport.js';\n\nvar hasClass = classListSupport ?\n    function (el, str) { return el.classList.contains(str); } :\n    function (el, str) { return el.className.indexOf(str) >= 0; };\n\nexport { classListSupport, hasClass };","export function hideElement(el, forceHide) {\n  if (el.style.display !== 'none') { el.style.display = 'none'; }\n}","export function isNodeList(el) {\n  // Only NodeList has the \"item()\" function\n  return typeof el.item !== \"undefined\"; \n}","export function isVisible(el) {\n  return window.getComputedStyle(el).display !== 'none';\n}","export function jsTransform(element, attr, prefix, postfix, to, duration, callback) {\n  var tick = Math.min(duration, 10),\n      unit = (to.indexOf('%') >= 0) ? '%' : 'px',\n      to = to.replace(unit, ''),\n      from = Number(element.style[attr].replace(prefix, '').replace(postfix, '').replace(unit, '')),\n      positionTick = (to - from) / duration * tick,\n      running;\n\n  setTimeout(moveElement, tick);\n  function moveElement() {\n    duration -= tick;\n    from += positionTick;\n    element.style[attr] = prefix + from + unit + postfix;\n    if (duration > 0) { \n      setTimeout(moveElement, tick); \n    } else {\n      callback();\n    }\n  }\n}","import { getBody } from './getBody.js';\nimport { setFakeBody } from './setFakeBody.js';\nimport { resetFakeBody } from './resetFakeBody.js';\n\nexport function mediaquerySupport () {\n  var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      div = doc.createElement('div'),\n      style = doc.createElement('style'),\n      rule = '@media all and (min-width:1px){.tns-mq-test{position:absolute}}',\n      position;\n\n  style.type = 'text/css';\n  div.className = 'tns-mq-test';\n\n  body.appendChild(style);\n  body.appendChild(div);\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = rule;\n  } else {\n    style.appendChild(doc.createTextNode(rule));\n  }\n\n  position = window.getComputedStyle ? window.getComputedStyle(div).position : div.currentStyle['position'];\n\n  body.fake ? resetFakeBody(body, docOverflow) : div.remove();\n\n  return position === \"absolute\";\n}","// Test via a getter in the options object to see if the passive property is accessed\nvar supportsPassive = false;\ntry {\n  var opts = Object.defineProperty({}, 'passive', {\n    get: function() {\n      supportsPassive = true;\n    }\n  });\n  window.addEventListener(\"test\", null, opts);\n} catch (e) {}\nexport var passiveOption = supportsPassive ? { passive: true } : false;","// get subpixel support value\n// @return - boolean\nimport { getBody } from './getBody.js';\nimport { setFakeBody } from './setFakeBody.js';\nimport { resetFakeBody } from './resetFakeBody.js';\n\nexport function percentageLayout() {\n  // check subpixel layout supporting\n  var doc = document,\n      body = getBody(),\n      docOverflow = setFakeBody(body),\n      wrapper = doc.createElement('div'),\n      outer = doc.createElement('div'),\n      str = '',\n      count = 70,\n      perPage = 3,\n      supported = false;\n\n  wrapper.className = \"tns-t-subp2\";\n  outer.className = \"tns-t-ct\";\n\n  for (var i = 0; i < count; i++) {\n    str += '<div></div>';\n  }\n\n  outer.innerHTML = str;\n  wrapper.appendChild(outer);\n  body.appendChild(wrapper);\n\n  supported = Math.abs(wrapper.getBoundingClientRect().left - outer.children[count - perPage].getBoundingClientRect().left) < 2;\n\n  body.fake ? resetFakeBody(body, docOverflow) : wrapper.remove();\n\n  return supported;\n}","var win = window;\n\nexport var raf = win.requestAnimationFrame\n  || win.webkitRequestAnimationFrame\n  || win.mozRequestAnimationFrame\n  || win.msRequestAnimationFrame\n  || function(cb) { return setTimeout(cb, 16); };\n","import { isNodeList } from \"./isNodeList.js\";\n\nexport function removeAttrs(els, attrs) {\n  els = (isNodeList(els) || els instanceof Array) ? els : [els];\n  attrs = (attrs instanceof Array) ? attrs : [attrs];\n\n  var attrLength = attrs.length;\n  for (var i = els.length; i--;) {\n    for (var j = attrLength; j--;) {\n      els[i].removeAttribute(attrs[j]);\n    }\n  }\n}","// cross browsers addRule method\nimport { raf } from './raf.js';\nexport function removeCSSRule(sheet, index) {\n  // return raf(function() {\n    'deleteRule' in sheet ?\n      sheet.deleteRule(index) :\n      sheet.removeRule(index);\n  // });\n}","import { classListSupport, hasClass } from './hasClass.js';\nvar removeClass = classListSupport ?\n    function (el, str) {\n      if (hasClass(el,  str)) { el.classList.remove(str); }\n    } :\n    function (el, str) {\n      if (hasClass(el, str)) { el.className = el.className.replace(str, ''); }\n    };\n\nexport { removeClass };","import { passiveOption } from './passiveOption.js';\n\nexport function removeEvents(el, obj) {\n  for (var prop in obj) {\n    var option = ['touchstart', 'touchmove'].indexOf(prop) >= 0 ? passiveOption : false;\n    el.removeEventListener(prop, obj[prop], option);\n  }\n}","import { docElement } from './docElement.js';\n\nexport function resetFakeBody (body, docOverflow) {\n  if (body.fake) {\n    body.remove();\n    docElement.style.overflow = docOverflow;\n    // Trigger layout so kinetic scrolling isn't disabled in iOS6+\n    // eslint-disable-next-line\n    docElement.offsetHeight;\n  }\n}","import { isNodeList } from \"./isNodeList.js\";\n\nexport function setAttrs(els, attrs) {\n  els = (isNodeList(els) || els instanceof Array) ? els : [els];\n  if (Object.prototype.toString.call(attrs) !== '[object Object]') { return; }\n\n  for (var i = els.length; i--;) {\n    for(var key in attrs) {\n      els[i].setAttribute(key, attrs[key]);\n    }\n  }\n}","import { docElement } from './docElement.js';\n\nexport function setFakeBody (body) {\n  var docOverflow = '';\n  if (body.fake) {\n    docOverflow = docElement.style.overflow;\n    //avoid crashing IE8, if background image is used\n    body.style.background = '';\n    //Safari 5.13/5.1.4 OSX stops loading if ::-webkit-scrollbar is used and scrollbars are visible\n    body.style.overflow = docElement.style.overflow = 'hidden';\n    docElement.appendChild(body);\n  }\n\n  return docOverflow;\n}","export function setLocalStorage(storage, key, value, access) {\n  if (access) {\n    try { storage.setItem(key, value); } catch (e) {}\n  }\n  return value;\n}","export function showElement(el, forceHide) {\n  if (el.style.display === 'none') { el.style.display = ''; }\n}","export function toDegree (y, x) {\n  return Math.atan2(y, x) * (180 / Math.PI);\n}","export function whichProperty(props){\n  if (typeof props === 'string') {\n    var arr = [props],\n        Props = props.charAt(0).toUpperCase() + props.substr(1),\n        prefixes = ['Webkit', 'Moz', 'ms', 'O'];\n        \n    prefixes.forEach(function(prefix) {\n      if (prefix !== 'ms' || props === 'transform') {\n        arr.push(prefix + Props);\n      }\n    });\n\n    props = arr;\n  }\n\n  var el = document.createElement('fakeelement'),\n      len = props.length;\n  for(var i = 0; i < props.length; i++){\n    var prop = props[i];\n    if( el.style[prop] !== undefined ){ return prop; }\n  }\n\n  return false; // explicit for ie9-\n}\n","import './helpers/Object.keys';\nimport './helpers/childNode.remove';\nimport { raf } from './helpers/raf.js';\nimport { caf } from './helpers/caf.js';\nimport { extend } from './helpers/extend.js';\nimport { checkStorageValue } from './helpers/checkStorageValue.js';\nimport { setLocalStorage } from './helpers/setLocalStorage.js';\nimport { getSlideId } from './helpers/getSlideId.js';\nimport { calc } from './helpers/calc.js';\nimport { percentageLayout } from './helpers/percentageLayout.js';\nimport { mediaquerySupport } from './helpers/mediaquerySupport.js';\nimport { createStyleSheet } from './helpers/createStyleSheet.js';\nimport { addCSSRule } from './helpers/addCSSRule.js';\nimport { removeCSSRule } from './helpers/removeCSSRule.js';\nimport { getCssRulesLength } from './helpers/getCssRulesLength.js';\nimport { toDegree } from './helpers/toDegree.js';\nimport { getTouchDirection } from './helpers/getTouchDirection.js';\nimport { forEach } from './helpers/forEach.js';\nimport { hasClass } from './helpers/hasClass.js';\nimport { addClass } from './helpers/addClass.js';\nimport { removeClass } from './helpers/removeClass.js';\nimport { hasAttr } from './helpers/hasAttr.js';\nimport { getAttr } from './helpers/getAttr.js';\nimport { setAttrs } from './helpers/setAttrs.js';\nimport { removeAttrs } from './helpers/removeAttrs.js';\nimport { arrayFromNodeList } from './helpers/arrayFromNodeList.js';\nimport { hideElement } from './helpers/hideElement.js';\nimport { showElement } from './helpers/showElement.js';\nimport { isVisible } from './helpers/isVisible.js';\nimport { whichProperty } from './helpers/whichProperty.js';\nimport { has3DTransforms } from './helpers/has3DTransforms.js';\nimport { getEndProperty } from './helpers/getEndProperty.js';\nimport { addEvents } from './helpers/addEvents.js';\nimport { removeEvents } from './helpers/removeEvents.js';\nimport { Events } from './helpers/events.js';\nimport { jsTransform } from './helpers/jsTransform.js';\n\nexport var tns = function(options) {\n  options = extend({\n    container: '.slider',\n    mode: 'carousel',\n    axis: 'horizontal',\n    items: 1,\n    gutter: 0,\n    edgePadding: 0,\n    fixedWidth: false,\n    autoWidth: false,\n    viewportMax: false,\n    slideBy: 1,\n    center: false,\n    controls: true,\n    controlsPosition: 'top',\n    controlsText: ['prev', 'next'],\n    controlsContainer: false,\n    prevButton: false,\n    nextButton: false,\n    nav: true,\n    navPosition: 'top',\n    navContainer: false,\n    navAsThumbnails: false,\n    arrowKeys: false,\n    speed: 300,\n    autoplay: false,\n    autoplayPosition: 'top',\n    autoplayTimeout: 5000,\n    autoplayDirection: 'forward',\n    autoplayText: ['start', 'stop'],\n    autoplayHoverPause: false,\n    autoplayButton: false,\n    autoplayButtonOutput: true,\n    autoplayResetOnVisibility: true,\n    animateIn: 'tns-fadeIn',\n    animateOut: 'tns-fadeOut',\n    animateNormal: 'tns-normal',\n    animateDelay: false,\n    loop: true,\n    rewind: false,\n    autoHeight: false,\n    responsive: false,\n    lazyload: false,\n    lazyloadSelector: '.tns-lazy-img',\n    touch: true,\n    mouseDrag: false,\n    swipeAngle: 15,\n    nested: false,\n    preventActionWhenRunning: false,\n    preventScrollOnTouch: false,\n    freezable: true,\n    onInit: false,\n    useLocalStorage: true\n  }, options || {});\n  \n  var doc = document,\n      win = window,\n      KEYS = {\n        ENTER: 13,\n        SPACE: 32,\n        LEFT: 37,\n        RIGHT: 39\n      },\n      tnsStorage = {},\n      localStorageAccess = options.useLocalStorage;\n\n  if (localStorageAccess) {\n    // check browser version and local storage access\n    var browserInfo = navigator.userAgent;\n    var uid = new Date;\n\n    try {\n      tnsStorage = win.localStorage;\n      if (tnsStorage) {\n        tnsStorage.setItem(uid, uid);\n        localStorageAccess = tnsStorage.getItem(uid) == uid;\n        tnsStorage.removeItem(uid);\n      } else {\n        localStorageAccess = false;\n      }\n      if (!localStorageAccess) { tnsStorage = {}; }\n    } catch(e) {\n      localStorageAccess = false;\n    }\n\n    if (localStorageAccess) {\n      // remove storage when browser version changes\n      if (tnsStorage['tnsApp'] && tnsStorage['tnsApp'] !== browserInfo) {\n        ['tC', 'tPL', 'tMQ', 'tTf', 't3D', 'tTDu', 'tTDe', 'tADu', 'tADe', 'tTE', 'tAE'].forEach(function(item) { tnsStorage.removeItem(item); });\n      }\n      // update browserInfo\n      localStorage['tnsApp'] = browserInfo;\n    }\n  }\n\n  var CALC = tnsStorage['tC'] ? checkStorageValue(tnsStorage['tC']) : setLocalStorage(tnsStorage, 'tC', calc(), localStorageAccess),\n      PERCENTAGELAYOUT = tnsStorage['tPL'] ? checkStorageValue(tnsStorage['tPL']) : setLocalStorage(tnsStorage, 'tPL', percentageLayout(), localStorageAccess),\n      CSSMQ = tnsStorage['tMQ'] ? checkStorageValue(tnsStorage['tMQ']) : setLocalStorage(tnsStorage, 'tMQ', mediaquerySupport(), localStorageAccess),\n      TRANSFORM = tnsStorage['tTf'] ? checkStorageValue(tnsStorage['tTf']) : setLocalStorage(tnsStorage, 'tTf', whichProperty('transform'), localStorageAccess),\n      HAS3DTRANSFORMS = tnsStorage['t3D'] ? checkStorageValue(tnsStorage['t3D']) : setLocalStorage(tnsStorage, 't3D', has3DTransforms(TRANSFORM), localStorageAccess),\n      TRANSITIONDURATION = tnsStorage['tTDu'] ? checkStorageValue(tnsStorage['tTDu']) : setLocalStorage(tnsStorage, 'tTDu', whichProperty('transitionDuration'), localStorageAccess),\n      TRANSITIONDELAY = tnsStorage['tTDe'] ? checkStorageValue(tnsStorage['tTDe']) : setLocalStorage(tnsStorage, 'tTDe', whichProperty('transitionDelay'), localStorageAccess),\n      ANIMATIONDURATION = tnsStorage['tADu'] ? checkStorageValue(tnsStorage['tADu']) : setLocalStorage(tnsStorage, 'tADu', whichProperty('animationDuration'), localStorageAccess),\n      ANIMATIONDELAY = tnsStorage['tADe'] ? checkStorageValue(tnsStorage['tADe']) : setLocalStorage(tnsStorage, 'tADe', whichProperty('animationDelay'), localStorageAccess),\n      TRANSITIONEND = tnsStorage['tTE'] ? checkStorageValue(tnsStorage['tTE']) : setLocalStorage(tnsStorage, 'tTE', getEndProperty(TRANSITIONDURATION, 'Transition'), localStorageAccess),\n      ANIMATIONEND = tnsStorage['tAE'] ? checkStorageValue(tnsStorage['tAE']) : setLocalStorage(tnsStorage, 'tAE', getEndProperty(ANIMATIONDURATION, 'Animation'), localStorageAccess);\n\n  // get element nodes from selectors\n  var supportConsoleWarn = win.console && typeof win.console.warn === \"function\",\n      tnsList = ['container', 'controlsContainer', 'prevButton', 'nextButton', 'navContainer', 'autoplayButton'], \n      optionsElements = {};\n      \n  tnsList.forEach(function(item) {\n    if (typeof options[item] === 'string') {\n      var str = options[item],\n          el = doc.querySelector(str);\n      optionsElements[item] = str;\n\n      if (el && el.nodeName) {\n        options[item] = el;\n      } else {\n        if (supportConsoleWarn) { console.warn('Can\\'t find', options[item]); }\n        return;\n      }\n    }\n  });\n\n  // make sure at least 1 slide\n  if (options.container.children.length < 1) {\n    if (supportConsoleWarn) { console.warn('No slides found in', options.container); }\n    return;\n   }\n\n  // update options\n  var responsive = options.responsive,\n      nested = options.nested,\n      carousel = options.mode === 'carousel' ? true : false;\n\n  if (responsive) {\n    // apply responsive[0] to options and remove it\n    if (0 in responsive) {\n      options = extend(options, responsive[0]);\n      delete responsive[0];\n    }\n\n    var responsiveTem = {};\n    for (var key in responsive) {\n      var val = responsive[key];\n      // update responsive\n      // from: 300: 2\n      // to: \n      //   300: { \n      //     items: 2 \n      //   } \n      val = typeof val === 'number' ? {items: val} : val;\n      responsiveTem[key] = val;\n    }\n    responsive = responsiveTem;\n    responsiveTem = null;\n  }\n\n  // update options\n  function updateOptions (obj) {\n    for (var key in obj) {\n      if (!carousel) {\n        if (key === 'slideBy') { obj[key] = 'page'; }\n        if (key === 'edgePadding') { obj[key] = false; }\n        if (key === 'autoHeight') { obj[key] = false; }\n      }\n\n      // update responsive options\n      if (key === 'responsive') { updateOptions(obj[key]); }\n    }\n  }\n  if (!carousel) { updateOptions(options); }\n\n\n  // === define and set variables ===\n  if (!carousel) {\n    options.axis = 'horizontal';\n    options.slideBy = 'page';\n    options.edgePadding = false;\n\n    var animateIn = options.animateIn,\n        animateOut = options.animateOut,\n        animateDelay = options.animateDelay,\n        animateNormal = options.animateNormal;\n  }\n\n  var horizontal = options.axis === 'horizontal' ? true : false,\n      outerWrapper = doc.createElement('div'),\n      innerWrapper = doc.createElement('div'),\n      middleWrapper,\n      container = options.container,\n      containerParent = container.parentNode,\n      containerHTML = container.outerHTML,\n      slideItems = container.children,\n      slideCount = slideItems.length,\n      breakpointZone,\n      windowWidth = getWindowWidth(),\n      isOn = false;\n  if (responsive) { setBreakpointZone(); }\n  if (carousel) { container.className += ' tns-vpfix'; }\n\n  // fixedWidth: viewport > rightBoundary > indexMax\n  var autoWidth = options.autoWidth,\n      fixedWidth = getOption('fixedWidth'),\n      edgePadding = getOption('edgePadding'),\n      gutter = getOption('gutter'),\n      viewport = getViewportWidth(),\n      center = getOption('center'),\n      items = !autoWidth ? Math.floor(getOption('items')) : 1,\n      slideBy = getOption('slideBy'),\n      viewportMax = options.viewportMax || options.fixedWidthViewportWidth,\n      arrowKeys = getOption('arrowKeys'),\n      speed = getOption('speed'),\n      rewind = options.rewind,\n      loop = rewind ? false : options.loop,\n      autoHeight = getOption('autoHeight'),\n      controls = getOption('controls'),\n      controlsText = getOption('controlsText'),\n      nav = getOption('nav'),\n      touch = getOption('touch'),\n      mouseDrag = getOption('mouseDrag'),\n      autoplay = getOption('autoplay'),\n      autoplayTimeout = getOption('autoplayTimeout'),\n      autoplayText = getOption('autoplayText'),\n      autoplayHoverPause = getOption('autoplayHoverPause'),\n      autoplayResetOnVisibility = getOption('autoplayResetOnVisibility'),\n      sheet = createStyleSheet(),\n      lazyload = options.lazyload,\n      lazyloadSelector = options.lazyloadSelector,\n      slidePositions, // collection of slide positions\n      slideItemsOut = [],\n      cloneCount = loop ? getCloneCountForLoop() : 0,\n      slideCountNew = !carousel ? slideCount + cloneCount : slideCount + cloneCount * 2,\n      hasRightDeadZone = (fixedWidth || autoWidth) && !loop ? true : false,\n      rightBoundary = fixedWidth ? getRightBoundary() : null,\n      updateIndexBeforeTransform = (!carousel || !loop) ? true : false,\n      // transform\n      transformAttr = horizontal ? 'left' : 'top',\n      transformPrefix = '',\n      transformPostfix = '',\n      // index\n      getIndexMax = (function () {\n        if (fixedWidth) {\n          return function() { return center && !loop ? slideCount - 1 : Math.ceil(- rightBoundary / (fixedWidth + gutter)); };\n        } else if (autoWidth) {\n          return function() {\n            for (var i = slideCountNew; i--;) {\n              if (slidePositions[i] >= - rightBoundary) { return i; }\n            }\n          };\n        } else {\n          return function() {\n            if (center && carousel && !loop) {\n              return slideCount - 1;\n            } else {\n              return loop || carousel ? Math.max(0, slideCountNew - Math.ceil(items)) : slideCountNew - 1;\n            }\n          };\n        }\n      })(),\n      index = getStartIndex(getOption('startIndex')),\n      indexCached = index,\n      displayIndex = getCurrentSlide(),\n      indexMin = 0,\n      indexMax = !autoWidth ? getIndexMax() : null,\n      // resize\n      resizeTimer,\n      preventActionWhenRunning = options.preventActionWhenRunning,\n      swipeAngle = options.swipeAngle,\n      moveDirectionExpected = swipeAngle ? '?' : true,\n      running = false,\n      onInit = options.onInit,\n      events = new Events(),\n      // id, class\n      newContainerClasses = ' tns-slider tns-' + options.mode,\n      slideId = container.id || getSlideId(),\n      disable = getOption('disable'),\n      disabled = false,\n      freezable = options.freezable,\n      freeze = freezable && !autoWidth ? getFreeze() : false,\n      frozen = false,\n      controlsEvents = {\n        'click': onControlsClick,\n        'keydown': onControlsKeydown\n      },\n      navEvents = {\n        'click': onNavClick,\n        'keydown': onNavKeydown\n      },\n      hoverEvents = {\n        'mouseover': mouseoverPause,\n        'mouseout': mouseoutRestart\n      },\n      visibilityEvent = {'visibilitychange': onVisibilityChange},\n      docmentKeydownEvent = {'keydown': onDocumentKeydown},\n      touchEvents = {\n        'touchstart': onPanStart,\n        'touchmove': onPanMove,\n        'touchend': onPanEnd,\n        'touchcancel': onPanEnd\n      }, dragEvents = {\n        'mousedown': onPanStart,\n        'mousemove': onPanMove,\n        'mouseup': onPanEnd,\n        'mouseleave': onPanEnd\n      },\n      hasControls = hasOption('controls'),\n      hasNav = hasOption('nav'),\n      navAsThumbnails = autoWidth ? true : options.navAsThumbnails,\n      hasAutoplay = hasOption('autoplay'),\n      hasTouch = hasOption('touch'),\n      hasMouseDrag = hasOption('mouseDrag'),\n      slideActiveClass = 'tns-slide-active',\n      imgCompleteClass = 'tns-complete',\n      imgEvents = {\n        'load': onImgLoaded,\n        'error': onImgFailed\n      },\n      imgsComplete,\n      liveregionCurrent,\n      preventScroll = options.preventScrollOnTouch === 'force' ? true : false;\n\n  // controls\n  if (hasControls) {\n    var controlsContainer = options.controlsContainer,\n        controlsContainerHTML = options.controlsContainer ? options.controlsContainer.outerHTML : '',\n        prevButton = options.prevButton,\n        nextButton = options.nextButton,\n        prevButtonHTML = options.prevButton ? options.prevButton.outerHTML : '',\n        nextButtonHTML = options.nextButton ? options.nextButton.outerHTML : '',\n        prevIsButton,\n        nextIsButton;\n  }\n\n  // nav\n  if (hasNav) {\n    var navContainer = options.navContainer,\n        navContainerHTML = options.navContainer ? options.navContainer.outerHTML : '',\n        navItems,\n        pages = autoWidth ? slideCount : getPages(),\n        pagesCached = 0,\n        navClicked = -1,\n        navCurrentIndex = getCurrentNavIndex(),\n        navCurrentIndexCached = navCurrentIndex,\n        navActiveClass = 'tns-nav-active',\n        navStr = 'Carousel Page ',\n        navStrCurrent = ' (Current Slide)';\n  }\n\n  // autoplay\n  if (hasAutoplay) {\n    var autoplayDirection = options.autoplayDirection === 'forward' ? 1 : -1,\n        autoplayButton = options.autoplayButton,\n        autoplayButtonHTML = options.autoplayButton ? options.autoplayButton.outerHTML : '',\n        autoplayHtmlStrings = ['<span class=\\'tns-visually-hidden\\'>', ' animation</span>'],\n        autoplayTimer,\n        animating,\n        autoplayHoverPaused,\n        autoplayUserPaused,\n        autoplayVisibilityPaused;\n  }\n\n  if (hasTouch || hasMouseDrag) {\n    var initPosition = {},\n        lastPosition = {},\n        translateInit,\n        disX,\n        disY,\n        panStart = false,\n        rafIndex,\n        getDist = horizontal ? \n          function(a, b) { return a.x - b.x; } :\n          function(a, b) { return a.y - b.y; };\n  }\n  \n  // disable slider when slidecount <= items\n  if (!autoWidth) { resetVariblesWhenDisable(disable || freeze); }\n\n  if (TRANSFORM) {\n    transformAttr = TRANSFORM;\n    transformPrefix = 'translate';\n\n    if (HAS3DTRANSFORMS) {\n      transformPrefix += horizontal ? '3d(' : '3d(0px, ';\n      transformPostfix = horizontal ? ', 0px, 0px)' : ', 0px)';\n    } else {\n      transformPrefix += horizontal ? 'X(' : 'Y(';\n      transformPostfix = ')';\n    }\n\n  }\n\n  if (carousel) { container.className = container.className.replace('tns-vpfix', ''); }\n  initStructure();\n  initSheet();\n  initSliderTransform();\n\n  // === COMMON FUNCTIONS === //\n  function resetVariblesWhenDisable (condition) {\n    if (condition) {\n      controls = nav = touch = mouseDrag = arrowKeys = autoplay = autoplayHoverPause = autoplayResetOnVisibility = false;\n    }\n  }\n\n  function getCurrentSlide () {\n    var tem = carousel ? index - cloneCount : index;\n    while (tem < 0) { tem += slideCount; }\n    return tem%slideCount + 1;\n  }\n\n  function getStartIndex (ind) {\n    ind = ind ? Math.max(0, Math.min(loop ? slideCount - 1 : slideCount - items, ind)) : 0;\n    return carousel ? ind + cloneCount : ind;\n  }\n\n  function getAbsIndex (i) {\n    if (i == null) { i = index; }\n\n    if (carousel) { i -= cloneCount; }\n    while (i < 0) { i += slideCount; }\n\n    return Math.floor(i%slideCount);\n  }\n\n  function getCurrentNavIndex () {\n    var absIndex = getAbsIndex(),\n        result;\n\n    result = navAsThumbnails ? absIndex : \n      fixedWidth || autoWidth ? Math.ceil((absIndex + 1) * pages / slideCount - 1) : \n          Math.floor(absIndex / items);\n\n    // set active nav to the last one when reaches the right edge\n    if (!loop && carousel && index === indexMax) { result = pages - 1; }\n\n    return result;\n  }\n\n  function getItemsMax () {\n    // fixedWidth or autoWidth while viewportMax is not available\n    if (autoWidth || (fixedWidth && !viewportMax)) {\n      return slideCount - 1;\n    // most cases\n    } else {\n      var str = fixedWidth ? 'fixedWidth' : 'items',\n          arr = [];\n\n      if (fixedWidth || options[str] < slideCount) { arr.push(options[str]); }\n\n      if (responsive) {\n        for (var bp in responsive) {\n          var tem = responsive[bp][str];\n          if (tem && (fixedWidth || tem < slideCount)) { arr.push(tem); }\n        }\n      }\n\n      if (!arr.length) { arr.push(0); }\n\n      return Math.ceil(fixedWidth ? viewportMax / Math.min.apply(null, arr) : Math.max.apply(null, arr));\n    }\n  }\n\n  function getCloneCountForLoop () {\n    var itemsMax = getItemsMax(),\n        result = carousel ? Math.ceil((itemsMax * 5 - slideCount)/2) : (itemsMax * 4 - slideCount);\n    result = Math.max(itemsMax, result);\n\n    return hasOption('edgePadding') ? result + 1 : result;\n  }\n\n  function getWindowWidth () {\n    return win.innerWidth || doc.documentElement.clientWidth || doc.body.clientWidth;\n  }\n\n  function getInsertPosition (pos) {\n    return pos === 'top' ? 'afterbegin' : 'beforeend';\n  }\n\n  function getClientWidth (el) {\n    var div = doc.createElement('div'), rect, width;\n    el.appendChild(div);\n    rect = div.getBoundingClientRect();\n    width = rect.right - rect.left;\n    div.remove();\n    return width || getClientWidth(el.parentNode);\n  }\n\n  function getViewportWidth () {\n    var gap = edgePadding ? edgePadding * 2 - gutter : 0;\n    return getClientWidth(containerParent) - gap;\n  }\n\n  function hasOption (item) {\n    if (options[item]) {\n      return true;\n    } else {\n      if (responsive) {\n        for (var bp in responsive) {\n          if (responsive[bp][item]) { return true; }\n        }\n      }\n      return false;\n    }\n  }\n\n  // get option:\n  // fixed width: viewport, fixedWidth, gutter => items\n  // others: window width => all variables\n  // all: items => slideBy\n  function getOption (item, ww) {\n    if (ww == null) { ww = windowWidth; }\n\n    if (item === 'items' && fixedWidth) {\n      return Math.floor((viewport + gutter) / (fixedWidth + gutter)) || 1;\n\n    } else {\n      var result = options[item];\n\n      if (responsive) {\n        for (var bp in responsive) {\n          // bp: convert string to number\n          if (ww >= parseInt(bp)) {\n            if (item in responsive[bp]) { result = responsive[bp][item]; }\n          }\n        }\n      }\n\n      if (item === 'slideBy' && result === 'page') { result = getOption('items'); }\n      if (!carousel && (item === 'slideBy' || item === 'items')) { result = Math.floor(result); }\n\n      return result;\n    }\n  }\n\n  function getSlideMarginLeft (i) {\n    return CALC ? \n      CALC + '(' + i * 100 + '% / ' + slideCountNew + ')' : \n      i * 100 / slideCountNew + '%';\n  }\n\n  function getInnerWrapperStyles (edgePaddingTem, gutterTem, fixedWidthTem, speedTem, autoHeightBP) {\n    var str = '';\n\n    if (edgePaddingTem !== undefined) {\n      var gap = edgePaddingTem;\n      if (gutterTem) { gap -= gutterTem; }\n      str = horizontal ?\n        'margin: 0 ' + gap + 'px 0 ' + edgePaddingTem + 'px;' :\n        'margin: ' + edgePaddingTem + 'px 0 ' + gap + 'px 0;';\n    } else if (gutterTem && !fixedWidthTem) {\n      var gutterTemUnit = '-' + gutterTem + 'px',\n          dir = horizontal ? gutterTemUnit + ' 0 0' : '0 ' + gutterTemUnit + ' 0';\n      str = 'margin: 0 ' + dir + ';'\n    }\n\n    if (!carousel && autoHeightBP && TRANSITIONDURATION && speedTem) { str += getTransitionDurationStyle(speedTem); }\n    return str;\n  }\n\n  function getContainerWidth (fixedWidthTem, gutterTem, itemsTem) {\n    if (fixedWidthTem) {\n      return (fixedWidthTem + gutterTem) * slideCountNew + 'px';\n    } else {\n      return CALC ?\n        CALC + '(' + slideCountNew * 100 + '% / ' + itemsTem + ')' :\n        slideCountNew * 100 / itemsTem + '%';\n    }\n  }\n\n  function getSlideWidthStyle (fixedWidthTem, gutterTem, itemsTem) {\n    var width;\n\n    if (fixedWidthTem) {\n      width = (fixedWidthTem + gutterTem) + 'px';\n    } else {\n      if (!carousel) { itemsTem = Math.floor(itemsTem); }\n      var dividend = carousel ? slideCountNew : itemsTem;\n      width = CALC ? \n        CALC + '(100% / ' + dividend + ')' : \n        100 / dividend + '%';\n    }\n\n    width = 'width:' + width;\n\n    // inner slider: overwrite outer slider styles\n    return nested !== 'inner' ? width + ';' : width + ' !important;';\n  }\n\n  function getSlideGutterStyle (gutterTem) {\n    var str = '';\n\n    // gutter maybe interger || 0\n    // so can't use 'if (gutter)'\n    if (gutterTem !== false) {\n      var prop = horizontal ? 'padding-' : 'margin-',\n          dir = horizontal ? 'right' : 'bottom';\n      str = prop +  dir + ': ' + gutterTem + 'px;';\n    }\n\n    return str;\n  }\n\n  function getCSSPrefix (name, num) {\n    var prefix = name.substring(0, name.length - num).toLowerCase();\n    if (prefix) { prefix = '-' + prefix + '-'; }\n\n    return prefix;\n  }\n\n  function getTransitionDurationStyle (speed) {\n    return getCSSPrefix(TRANSITIONDURATION, 18) + 'transition-duration:' + speed / 1000 + 's;';\n  }\n\n  function getAnimationDurationStyle (speed) {\n    return getCSSPrefix(ANIMATIONDURATION, 17) + 'animation-duration:' + speed / 1000 + 's;';\n  }\n\n  function initStructure () {\n    var classOuter = 'tns-outer',\n        classInner = 'tns-inner',\n        hasGutter = hasOption('gutter');\n\n    outerWrapper.className = classOuter;\n    innerWrapper.className = classInner;\n    outerWrapper.id = slideId + '-ow';\n    innerWrapper.id = slideId + '-iw';\n\n    // set container properties\n    if (container.id === '') { container.id = slideId; }\n    newContainerClasses += PERCENTAGELAYOUT || autoWidth ? ' tns-subpixel' : ' tns-no-subpixel';\n    newContainerClasses += CALC ? ' tns-calc' : ' tns-no-calc';\n    if (autoWidth) { newContainerClasses += ' tns-autowidth'; }\n    newContainerClasses += ' tns-' + options.axis;\n    container.className += newContainerClasses;\n\n    // add constrain layer for carousel\n    if (carousel) {\n      middleWrapper = doc.createElement('div');\n      middleWrapper.id = slideId + '-mw';\n      middleWrapper.className = 'tns-ovh';\n\n      outerWrapper.appendChild(middleWrapper);\n      middleWrapper.appendChild(innerWrapper);\n    } else {\n      outerWrapper.appendChild(innerWrapper);\n    }\n\n    if (autoHeight) {\n      var wp = middleWrapper ? middleWrapper : innerWrapper;\n      wp.className += ' tns-ah';\n    }\n\n    containerParent.insertBefore(outerWrapper, container);\n    innerWrapper.appendChild(container);\n\n    // add id, class, aria attributes \n    // before clone slides\n    forEach(slideItems, function(item, i) {\n      addClass(item, 'tns-item');\n      if (!item.id) { item.id = slideId + '-item' + i; }\n      if (!carousel && animateNormal) { addClass(item, animateNormal); }\n      setAttrs(item, {\n        'aria-hidden': 'true',\n        'tabindex': '-1'\n      });\n    });\n\n    // ## clone slides\n    // carousel: n + slides + n\n    // gallery:      slides + n\n    if (cloneCount) {\n      var fragmentBefore = doc.createDocumentFragment(), \n          fragmentAfter = doc.createDocumentFragment();\n\n      for (var j = cloneCount; j--;) {\n        var num = j%slideCount,\n            cloneFirst = slideItems[num].cloneNode(true);\n        removeAttrs(cloneFirst, 'id');\n        fragmentAfter.insertBefore(cloneFirst, fragmentAfter.firstChild);\n\n        if (carousel) {\n          var cloneLast = slideItems[slideCount - 1 - num].cloneNode(true);\n          removeAttrs(cloneLast, 'id');\n          fragmentBefore.appendChild(cloneLast);\n        }\n      }\n\n      container.insertBefore(fragmentBefore, container.firstChild);\n      container.appendChild(fragmentAfter);\n      slideItems = container.children;\n    }\n\n  }\n\n  function initSliderTransform () {\n    // ## images loaded/failed\n    if (hasOption('autoHeight') || autoWidth || !horizontal) {\n      var imgs = container.querySelectorAll('img');\n\n      // add complete class if all images are loaded/failed\n      forEach(imgs, function(img) {\n        var src = img.src;\n        \n        if (src && src.indexOf('data:image') < 0) {\n          addEvents(img, imgEvents);\n          img.src = '';\n          img.src = src;\n          addClass(img, 'loading');\n        } else if (!lazyload) {\n          imgLoaded(img);\n        }\n      });\n\n      // All imgs are completed\n      raf(function(){ imgsLoadedCheck(arrayFromNodeList(imgs), function() { imgsComplete = true; }); });\n\n      // Check imgs in window only for auto height\n      if (!autoWidth && horizontal) { imgs = getImageArray(index, Math.min(index + items - 1, slideCountNew - 1)); }\n\n      lazyload ? initSliderTransformStyleCheck() : raf(function(){ imgsLoadedCheck(arrayFromNodeList(imgs), initSliderTransformStyleCheck); });\n\n    } else {\n      // set container transform property\n      if (carousel) { doContainerTransformSilent(); }\n\n      // update slider tools and events\n      initTools();\n      initEvents();\n    }\n  }\n\n  function initSliderTransformStyleCheck () {\n    if (autoWidth) {\n      // check styles application\n      var num = loop ? index : slideCount - 1;\n      (function stylesApplicationCheck() {\n        slideItems[num - 1].getBoundingClientRect().right.toFixed(2) === slideItems[num].getBoundingClientRect().left.toFixed(2) ?\n        initSliderTransformCore() :\n        setTimeout(function(){ stylesApplicationCheck() }, 16);\n      })();\n    } else {\n      initSliderTransformCore();\n    }\n  }\n\n\n  function initSliderTransformCore () {\n    // run Fn()s which are rely on image loading\n    if (!horizontal || autoWidth) {\n      setSlidePositions();\n\n      if (autoWidth) {\n        rightBoundary = getRightBoundary();\n        if (freezable) { freeze = getFreeze(); }\n        indexMax = getIndexMax(); // <= slidePositions, rightBoundary <=\n        resetVariblesWhenDisable(disable || freeze);\n      } else {\n        updateContentWrapperHeight();\n      }\n    }\n\n    // set container transform property\n    if (carousel) { doContainerTransformSilent(); }\n\n    // update slider tools and events\n    initTools();\n    initEvents();\n  }\n\n  function initSheet () {\n    // gallery:\n    // set animation classes and left value for gallery slider\n    if (!carousel) { \n      for (var i = index, l = index + Math.min(slideCount, items); i < l; i++) {\n        var item = slideItems[i];\n        item.style.left = (i - index) * 100 / items + '%';\n        addClass(item, animateIn);\n        removeClass(item, animateNormal);\n      }\n    }\n\n    // #### LAYOUT\n\n    // ## INLINE-BLOCK VS FLOAT\n\n    // ## PercentageLayout:\n    // slides: inline-block\n    // remove blank space between slides by set font-size: 0\n\n    // ## Non PercentageLayout:\n    // slides: float\n    //         margin-right: -100%\n    //         margin-left: ~\n\n    // Resource: https://docs.google.com/spreadsheets/d/147up245wwTXeQYve3BRSAD4oVcvQmuGsFteJOeA5xNQ/edit?usp=sharing\n    if (horizontal) {\n      if (PERCENTAGELAYOUT || autoWidth) {\n        addCSSRule(sheet, '#' + slideId + ' > .tns-item', 'font-size:' + win.getComputedStyle(slideItems[0]).fontSize + ';', getCssRulesLength(sheet));\n        addCSSRule(sheet, '#' + slideId, 'font-size:0;', getCssRulesLength(sheet));\n      } else if (carousel) {\n        forEach(slideItems, function (slide, i) {\n          slide.style.marginLeft = getSlideMarginLeft(i);\n        });\n      }\n    }\n\n\n    // ## BASIC STYLES\n    if (CSSMQ) {\n      // middle wrapper style\n      if (TRANSITIONDURATION) {\n        var str = middleWrapper && options.autoHeight ? getTransitionDurationStyle(options.speed) : '';\n        addCSSRule(sheet, '#' + slideId + '-mw', str, getCssRulesLength(sheet));\n      }\n\n      // inner wrapper styles\n      str = getInnerWrapperStyles(options.edgePadding, options.gutter, options.fixedWidth, options.speed, options.autoHeight);\n      addCSSRule(sheet, '#' + slideId + '-iw', str, getCssRulesLength(sheet));\n\n      // container styles\n      if (carousel) {\n        str = horizontal && !autoWidth ? 'width:' + getContainerWidth(options.fixedWidth, options.gutter, options.items) + ';' : '';\n        if (TRANSITIONDURATION) { str += getTransitionDurationStyle(speed); }\n        addCSSRule(sheet, '#' + slideId, str, getCssRulesLength(sheet));\n      }\n\n      // slide styles\n      str = horizontal && !autoWidth ? getSlideWidthStyle(options.fixedWidth, options.gutter, options.items) : '';\n      if (options.gutter) { str += getSlideGutterStyle(options.gutter); }\n      // set gallery items transition-duration\n      if (!carousel) {\n        if (TRANSITIONDURATION) { str += getTransitionDurationStyle(speed); }\n        if (ANIMATIONDURATION) { str += getAnimationDurationStyle(speed); }\n      }\n      if (str) { addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet)); }\n\n    // non CSS mediaqueries: IE8\n    // ## update inner wrapper, container, slides if needed\n    // set inline styles for inner wrapper & container\n    // insert stylesheet (one line) for slides only (since slides are many)\n    } else {\n      // middle wrapper styles\n      update_carousel_transition_duration();\n\n      // inner wrapper styles\n      innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth, autoHeight);\n\n      // container styles\n      if (carousel && horizontal && !autoWidth) {\n        container.style.width = getContainerWidth(fixedWidth, gutter, items);\n      }\n\n      // slide styles\n      var str = horizontal && !autoWidth ? getSlideWidthStyle(fixedWidth, gutter, items) : '';\n      if (gutter) { str += getSlideGutterStyle(gutter); }\n\n      // append to the last line\n      if (str) { addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet)); }\n    }\n\n    // ## MEDIAQUERIES\n    if (responsive && CSSMQ) {\n      for (var bp in responsive) {\n        // bp: convert string to number\n        bp = parseInt(bp);\n\n        var opts = responsive[bp],\n            str = '',\n            middleWrapperStr = '',\n            innerWrapperStr = '',\n            containerStr = '',\n            slideStr = '',\n            itemsBP = !autoWidth ? getOption('items', bp) : null,\n            fixedWidthBP = getOption('fixedWidth', bp),\n            speedBP = getOption('speed', bp),\n            edgePaddingBP = getOption('edgePadding', bp),\n            autoHeightBP = getOption('autoHeight', bp),\n            gutterBP = getOption('gutter', bp);\n\n        // middle wrapper string\n        if (TRANSITIONDURATION && middleWrapper && getOption('autoHeight', bp) && 'speed' in opts) {\n          middleWrapperStr = '#' + slideId + '-mw{' + getTransitionDurationStyle(speedBP) + '}';\n        }\n\n        // inner wrapper string\n        if ('edgePadding' in opts || 'gutter' in opts) {\n          innerWrapperStr = '#' + slideId + '-iw{' + getInnerWrapperStyles(edgePaddingBP, gutterBP, fixedWidthBP, speedBP, autoHeightBP) + '}';\n        }\n\n        // container string\n        if (carousel && horizontal && !autoWidth && ('fixedWidth' in opts || 'items' in opts || (fixedWidth && 'gutter' in opts))) {\n          containerStr = 'width:' + getContainerWidth(fixedWidthBP, gutterBP, itemsBP) + ';';\n        }\n        if (TRANSITIONDURATION && 'speed' in opts) {\n          containerStr += getTransitionDurationStyle(speedBP);\n        }\n        if (containerStr) {\n          containerStr = '#' + slideId + '{' + containerStr + '}';\n        }\n\n        // slide string\n        if ('fixedWidth' in opts || (fixedWidth && 'gutter' in opts) || !carousel && 'items' in opts) {\n          slideStr += getSlideWidthStyle(fixedWidthBP, gutterBP, itemsBP);\n        }\n        if ('gutter' in opts) {\n          slideStr += getSlideGutterStyle(gutterBP);\n        }\n        // set gallery items transition-duration\n        if (!carousel && 'speed' in opts) {\n          if (TRANSITIONDURATION) { slideStr += getTransitionDurationStyle(speedBP); }\n          if (ANIMATIONDURATION) { slideStr += getAnimationDurationStyle(speedBP); }\n        }\n        if (slideStr) { slideStr = '#' + slideId + ' > .tns-item{' + slideStr + '}'; }\n\n        // add up\n        str = middleWrapperStr + innerWrapperStr + containerStr + slideStr;\n\n        if (str) {\n          sheet.insertRule('@media (min-width: ' + bp / 16 + 'em) {' + str + '}', sheet.cssRules.length);\n        }\n      }\n    }\n  }\n\n  function initTools () {\n    // == slides ==\n    updateSlideStatus();\n\n    // == live region ==\n    outerWrapper.insertAdjacentHTML('afterbegin', '<div class=\"tns-liveregion tns-visually-hidden\" aria-live=\"polite\" aria-atomic=\"true\">slide <span class=\"current\">' + getLiveRegionStr() + '</span>  of ' + slideCount + '</div>');\n    liveregionCurrent = outerWrapper.querySelector('.tns-liveregion .current');\n\n    // == autoplayInit ==\n    if (hasAutoplay) {\n      var txt = autoplay ? 'stop' : 'start';\n      if (autoplayButton) {\n        setAttrs(autoplayButton, {'data-action': txt});\n      } else if (options.autoplayButtonOutput) {\n        outerWrapper.insertAdjacentHTML(getInsertPosition(options.autoplayPosition), '<button data-action=\"' + txt + '\">' + autoplayHtmlStrings[0] + txt + autoplayHtmlStrings[1] + autoplayText[0] + '</button>');\n        autoplayButton = outerWrapper.querySelector('[data-action]');\n      }\n\n      // add event\n      if (autoplayButton) {\n        addEvents(autoplayButton, {'click': toggleAutoplay});\n      }\n\n      if (autoplay) {\n        startAutoplay();\n        if (autoplayHoverPause) { addEvents(container, hoverEvents); }\n        if (autoplayResetOnVisibility) { addEvents(container, visibilityEvent); }\n      }\n    }\n \n    // == navInit ==\n    if (hasNav) {\n      var initIndex = !carousel ? 0 : cloneCount;\n      // customized nav\n      // will not hide the navs in case they're thumbnails\n      if (navContainer) {\n        setAttrs(navContainer, {'aria-label': 'Carousel Pagination'});\n        navItems = navContainer.children;\n        forEach(navItems, function(item, i) {\n          setAttrs(item, {\n            'data-nav': i,\n            'tabindex': '-1',\n            'aria-label': navStr + (i + 1),\n            'aria-controls': slideId,\n          });\n        });\n\n      // generated nav \n      } else {\n        var navHtml = '',\n            hiddenStr = navAsThumbnails ? '' : 'style=\"display:none\"';\n        for (var i = 0; i < slideCount; i++) {\n          // hide nav items by default\n          navHtml += '<button data-nav=\"' + i +'\" tabindex=\"-1\" aria-controls=\"' + slideId + '\" ' + hiddenStr + ' aria-label=\"' + navStr + (i + 1) +'\"></button>';\n        }\n        navHtml = '<div class=\"tns-nav\" aria-label=\"Carousel Pagination\">' + navHtml + '</div>';\n        outerWrapper.insertAdjacentHTML(getInsertPosition(options.navPosition), navHtml);\n\n        navContainer = outerWrapper.querySelector('.tns-nav');\n        navItems = navContainer.children;\n      }\n\n      updateNavVisibility();\n\n      // add transition\n      if (TRANSITIONDURATION) {\n        var prefix = TRANSITIONDURATION.substring(0, TRANSITIONDURATION.length - 18).toLowerCase(),\n            str = 'transition: all ' + speed / 1000 + 's';\n\n        if (prefix) {\n          str = '-' + prefix + '-' + str;\n        }\n\n        addCSSRule(sheet, '[aria-controls^=' + slideId + '-item]', str, getCssRulesLength(sheet));\n      }\n\n      setAttrs(navItems[navCurrentIndex], {'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent});\n      removeAttrs(navItems[navCurrentIndex], 'tabindex');\n      addClass(navItems[navCurrentIndex], navActiveClass);\n\n      // add events\n      addEvents(navContainer, navEvents);\n    }\n\n\n\n    // == controlsInit ==\n    if (hasControls) {\n      if (!controlsContainer && (!prevButton || !nextButton)) {\n        outerWrapper.insertAdjacentHTML(getInsertPosition(options.controlsPosition), '<div class=\"tns-controls\" aria-label=\"Carousel Navigation\" tabindex=\"0\"><button data-controls=\"prev\" tabindex=\"-1\" aria-controls=\"' + slideId +'\">' + controlsText[0] + '</button><button data-controls=\"next\" tabindex=\"-1\" aria-controls=\"' + slideId +'\">' + controlsText[1] + '</button></div>');\n\n        controlsContainer = outerWrapper.querySelector('.tns-controls');\n      }\n\n      if (!prevButton || !nextButton) {\n        prevButton = controlsContainer.children[0];\n        nextButton = controlsContainer.children[1];\n      }\n\n      if (options.controlsContainer) {\n        setAttrs(controlsContainer, {\n          'aria-label': 'Carousel Navigation',\n          'tabindex': '0'\n        });\n      }\n\n      if (options.controlsContainer || (options.prevButton && options.nextButton)) {\n        setAttrs([prevButton, nextButton], {\n          'aria-controls': slideId,\n          'tabindex': '-1',\n        });\n      }\n      \n      if (options.controlsContainer || (options.prevButton && options.nextButton)) {\n        setAttrs(prevButton, {'data-controls' : 'prev'});\n        setAttrs(nextButton, {'data-controls' : 'next'});\n      }\n\n      prevIsButton = isButton(prevButton);\n      nextIsButton = isButton(nextButton);\n\n      updateControlsStatus();\n\n      // add events\n      if (controlsContainer) {\n        addEvents(controlsContainer, controlsEvents);\n      } else {\n        addEvents(prevButton, controlsEvents);\n        addEvents(nextButton, controlsEvents);\n      }\n    }\n\n    // hide tools if needed\n    disableUI();\n  }\n\n  function initEvents () {\n    // add events\n    if (carousel && TRANSITIONEND) {\n      var eve = {};\n      eve[TRANSITIONEND] = onTransitionEnd;\n      addEvents(container, eve);\n    }\n\n    if (touch) { addEvents(container, touchEvents, options.preventScrollOnTouch); }\n    if (mouseDrag) { addEvents(container, dragEvents); }\n    if (arrowKeys) { addEvents(doc, docmentKeydownEvent); }\n\n    if (nested === 'inner') {\n      events.on('outerResized', function () {\n        resizeTasks();\n        events.emit('innerLoaded', info());\n      });\n    } else if (responsive || fixedWidth || autoWidth || autoHeight || !horizontal) {\n      addEvents(win, {'resize': onResize});\n    }\n\n    if (autoHeight) {\n      if (nested === 'outer') {\n        events.on('innerLoaded', doAutoHeight);\n      } else if (!disable) { doAutoHeight(); }\n    }\n\n    doLazyLoad();\n    if (disable) { disableSlider(); } else if (freeze) { freezeSlider(); }\n\n    events.on('indexChanged', additionalUpdates);\n    if (nested === 'inner') { events.emit('innerLoaded', info()); }\n    if (typeof onInit === 'function') { onInit(info()); }\n    isOn = true;\n  }\n\n  function destroy () {\n    // sheet\n    sheet.disabled = true;\n    if (sheet.ownerNode) { sheet.ownerNode.remove(); }\n\n    // remove win event listeners\n    removeEvents(win, {'resize': onResize});\n\n    // arrowKeys, controls, nav\n    if (arrowKeys) { removeEvents(doc, docmentKeydownEvent); }\n    if (controlsContainer) { removeEvents(controlsContainer, controlsEvents); }\n    if (navContainer) { removeEvents(navContainer, navEvents); }\n\n    // autoplay\n    removeEvents(container, hoverEvents);\n    removeEvents(container, visibilityEvent);\n    if (autoplayButton) { removeEvents(autoplayButton, {'click': toggleAutoplay}); }\n    if (autoplay) { clearInterval(autoplayTimer); }\n\n    // container\n    if (carousel && TRANSITIONEND) {\n      var eve = {};\n      eve[TRANSITIONEND] = onTransitionEnd;\n      removeEvents(container, eve);\n    }\n    if (touch) { removeEvents(container, touchEvents); }\n    if (mouseDrag) { removeEvents(container, dragEvents); }\n\n    // cache Object values in options && reset HTML\n    var htmlList = [containerHTML, controlsContainerHTML, prevButtonHTML, nextButtonHTML, navContainerHTML, autoplayButtonHTML];\n\n    tnsList.forEach(function(item, i) {\n      var el = item === 'container' ? outerWrapper : options[item];\n\n      if (typeof el === 'object') {\n        var prevEl = el.previousElementSibling ? el.previousElementSibling : false,\n            parentEl = el.parentNode;\n        el.outerHTML = htmlList[i];\n        options[item] = prevEl ? prevEl.nextElementSibling : parentEl.firstElementChild;\n      }\n    });\n\n\n    // reset variables\n    tnsList = animateIn = animateOut = animateDelay = animateNormal = horizontal = outerWrapper = innerWrapper = container = containerParent = containerHTML = slideItems = slideCount = breakpointZone = windowWidth = autoWidth = fixedWidth = edgePadding = gutter = viewport = items = slideBy = viewportMax = arrowKeys = speed = rewind = loop = autoHeight = sheet = lazyload = slidePositions = slideItemsOut = cloneCount = slideCountNew = hasRightDeadZone = rightBoundary = updateIndexBeforeTransform = transformAttr = transformPrefix = transformPostfix = getIndexMax = index = indexCached = indexMin = indexMax = resizeTimer = swipeAngle = moveDirectionExpected = running = onInit = events = newContainerClasses = slideId = disable = disabled = freezable = freeze = frozen = controlsEvents = navEvents = hoverEvents = visibilityEvent = docmentKeydownEvent = touchEvents = dragEvents = hasControls = hasNav = navAsThumbnails = hasAutoplay = hasTouch = hasMouseDrag = slideActiveClass = imgCompleteClass = imgEvents = imgsComplete = controls = controlsText = controlsContainer = controlsContainerHTML = prevButton = nextButton = prevIsButton = nextIsButton = nav = navContainer = navContainerHTML = navItems = pages = pagesCached = navClicked = navCurrentIndex = navCurrentIndexCached = navActiveClass = navStr = navStrCurrent = autoplay = autoplayTimeout = autoplayDirection = autoplayText = autoplayHoverPause = autoplayButton = autoplayButtonHTML = autoplayResetOnVisibility = autoplayHtmlStrings = autoplayTimer = animating = autoplayHoverPaused = autoplayUserPaused = autoplayVisibilityPaused = initPosition = lastPosition = translateInit = disX = disY = panStart = rafIndex = getDist = touch = mouseDrag = null;\n    // check variables\n    // [animateIn, animateOut, animateDelay, animateNormal, horizontal, outerWrapper, innerWrapper, container, containerParent, containerHTML, slideItems, slideCount, breakpointZone, windowWidth, autoWidth, fixedWidth, edgePadding, gutter, viewport, items, slideBy, viewportMax, arrowKeys, speed, rewind, loop, autoHeight, sheet, lazyload, slidePositions, slideItemsOut, cloneCount, slideCountNew, hasRightDeadZone, rightBoundary, updateIndexBeforeTransform, transformAttr, transformPrefix, transformPostfix, getIndexMax, index, indexCached, indexMin, indexMax, resizeTimer, swipeAngle, moveDirectionExpected, running, onInit, events, newContainerClasses, slideId, disable, disabled, freezable, freeze, frozen, controlsEvents, navEvents, hoverEvents, visibilityEvent, docmentKeydownEvent, touchEvents, dragEvents, hasControls, hasNav, navAsThumbnails, hasAutoplay, hasTouch, hasMouseDrag, slideActiveClass, imgCompleteClass, imgEvents, imgsComplete, controls, controlsText, controlsContainer, controlsContainerHTML, prevButton, nextButton, prevIsButton, nextIsButton, nav, navContainer, navContainerHTML, navItems, pages, pagesCached, navClicked, navCurrentIndex, navCurrentIndexCached, navActiveClass, navStr, navStrCurrent, autoplay, autoplayTimeout, autoplayDirection, autoplayText, autoplayHoverPause, autoplayButton, autoplayButtonHTML, autoplayResetOnVisibility, autoplayHtmlStrings, autoplayTimer, animating, autoplayHoverPaused, autoplayUserPaused, autoplayVisibilityPaused, initPosition, lastPosition, translateInit, disX, disY, panStart, rafIndex, getDist, touch, mouseDrag ].forEach(function(item) { if (item !== null) { console.log(item); } });\n\n    for (var a in this) {\n      if (a !== 'rebuild') { this[a] = null; }\n    }\n    isOn = false;\n  }\n\n// === ON RESIZE ===\n  // responsive || fixedWidth || autoWidth || !horizontal\n  function onResize (e) {\n    raf(function(){ resizeTasks(getEvent(e)); });\n  }\n\n  function resizeTasks (e) {\n    if (!isOn) { return; }\n    if (nested === 'outer') { events.emit('outerResized', info(e)); }\n    windowWidth = getWindowWidth();\n    var bpChanged,\n        breakpointZoneTem = breakpointZone,\n        needContainerTransform = false;\n\n    if (responsive) {\n      setBreakpointZone();\n      bpChanged = breakpointZoneTem !== breakpointZone;\n      // if (hasRightDeadZone) { needContainerTransform = true; } // *?\n      if (bpChanged) { events.emit('newBreakpointStart', info(e)); }\n    }\n\n    var indChanged,\n        itemsChanged,\n        itemsTem = items,\n        disableTem = disable,\n        freezeTem = freeze,\n        arrowKeysTem = arrowKeys,\n        controlsTem = controls,\n        navTem = nav,\n        touchTem = touch,\n        mouseDragTem = mouseDrag,\n        autoplayTem = autoplay,\n        autoplayHoverPauseTem = autoplayHoverPause,\n        autoplayResetOnVisibilityTem = autoplayResetOnVisibility,\n        indexTem = index;\n\n    if (bpChanged) {\n      var fixedWidthTem = fixedWidth,\n          autoHeightTem = autoHeight,\n          controlsTextTem = controlsText,\n          centerTem = center,\n          autoplayTextTem = autoplayText;\n\n      if (!CSSMQ) {\n        var gutterTem = gutter,\n            edgePaddingTem = edgePadding;\n      }\n    }\n\n    // get option:\n    // fixed width: viewport, fixedWidth, gutter => items\n    // others: window width => all variables\n    // all: items => slideBy\n    arrowKeys = getOption('arrowKeys');\n    controls = getOption('controls');\n    nav = getOption('nav');\n    touch = getOption('touch');\n    center = getOption('center');\n    mouseDrag = getOption('mouseDrag');\n    autoplay = getOption('autoplay');\n    autoplayHoverPause = getOption('autoplayHoverPause');\n    autoplayResetOnVisibility = getOption('autoplayResetOnVisibility');\n\n    if (bpChanged) {\n      disable = getOption('disable');\n      fixedWidth = getOption('fixedWidth');\n      speed = getOption('speed');\n      autoHeight = getOption('autoHeight');\n      controlsText = getOption('controlsText');\n      autoplayText = getOption('autoplayText');\n      autoplayTimeout = getOption('autoplayTimeout');\n\n      if (!CSSMQ) {\n        edgePadding = getOption('edgePadding');\n        gutter = getOption('gutter');\n      }\n    }\n    // update options\n    resetVariblesWhenDisable(disable);\n\n    viewport = getViewportWidth(); // <= edgePadding, gutter\n    if ((!horizontal || autoWidth) && !disable) {\n      setSlidePositions();\n      if (!horizontal) {\n        updateContentWrapperHeight(); // <= setSlidePositions\n        needContainerTransform = true;\n      }\n    }\n    if (fixedWidth || autoWidth) {\n      rightBoundary = getRightBoundary(); // autoWidth: <= viewport, slidePositions, gutter\n                                          // fixedWidth: <= viewport, fixedWidth, gutter\n      indexMax = getIndexMax(); // autoWidth: <= rightBoundary, slidePositions\n                                // fixedWidth: <= rightBoundary, fixedWidth, gutter\n    }\n\n    if (bpChanged || fixedWidth) {\n      items = getOption('items');\n      slideBy = getOption('slideBy');\n      itemsChanged = items !== itemsTem;\n\n      if (itemsChanged) {\n        if (!fixedWidth && !autoWidth) { indexMax = getIndexMax(); } // <= items\n        // check index before transform in case\n        // slider reach the right edge then items become bigger\n        updateIndex();\n      }\n    }\n    \n    if (bpChanged) {\n      if (disable !== disableTem) {\n        if (disable) {\n          disableSlider();\n        } else {\n          enableSlider(); // <= slidePositions, rightBoundary, indexMax\n        }\n      }\n    }\n\n    if (freezable && (bpChanged || fixedWidth || autoWidth)) {\n      freeze = getFreeze(); // <= autoWidth: slidePositions, gutter, viewport, rightBoundary\n                            // <= fixedWidth: fixedWidth, gutter, rightBoundary\n                            // <= others: items\n\n      if (freeze !== freezeTem) {\n        if (freeze) {\n          doContainerTransform(getContainerTransformValue(getStartIndex(0)));\n          freezeSlider();\n        } else {\n          unfreezeSlider();\n          needContainerTransform = true;\n        }\n      }\n    }\n\n    resetVariblesWhenDisable(disable || freeze); // controls, nav, touch, mouseDrag, arrowKeys, autoplay, autoplayHoverPause, autoplayResetOnVisibility\n    if (!autoplay) { autoplayHoverPause = autoplayResetOnVisibility = false; }\n\n    if (arrowKeys !== arrowKeysTem) {\n      arrowKeys ?\n        addEvents(doc, docmentKeydownEvent) :\n        removeEvents(doc, docmentKeydownEvent);\n    }\n    if (controls !== controlsTem) {\n      if (controls) {\n        if (controlsContainer) {\n          showElement(controlsContainer);\n        } else {\n          if (prevButton) { showElement(prevButton); }\n          if (nextButton) { showElement(nextButton); }\n        }\n      } else {\n        if (controlsContainer) {\n          hideElement(controlsContainer);\n        } else {\n          if (prevButton) { hideElement(prevButton); }\n          if (nextButton) { hideElement(nextButton); }\n        }\n      }\n    }\n    if (nav !== navTem) {\n      nav ?\n        showElement(navContainer) :\n        hideElement(navContainer);\n    }\n    if (touch !== touchTem) {\n      touch ?\n        addEvents(container, touchEvents, options.preventScrollOnTouch) :\n        removeEvents(container, touchEvents);\n    }\n    if (mouseDrag !== mouseDragTem) {\n      mouseDrag ?\n        addEvents(container, dragEvents) :\n        removeEvents(container, dragEvents);\n    }\n    if (autoplay !== autoplayTem) {\n      if (autoplay) {\n        if (autoplayButton) { showElement(autoplayButton); }\n        if (!animating && !autoplayUserPaused) { startAutoplay(); }\n      } else {\n        if (autoplayButton) { hideElement(autoplayButton); }\n        if (animating) { stopAutoplay(); }\n      }\n    }\n    if (autoplayHoverPause !== autoplayHoverPauseTem) {\n      autoplayHoverPause ?\n        addEvents(container, hoverEvents) :\n        removeEvents(container, hoverEvents);\n    }\n    if (autoplayResetOnVisibility !== autoplayResetOnVisibilityTem) {\n      autoplayResetOnVisibility ?\n        addEvents(doc, visibilityEvent) :\n        removeEvents(doc, visibilityEvent);\n    }\n\n    if (bpChanged) {\n      if (fixedWidth !== fixedWidthTem || center !== centerTem) { needContainerTransform = true; }\n\n      if (autoHeight !== autoHeightTem) {\n        if (!autoHeight) { innerWrapper.style.height = ''; }\n      }\n\n      if (controls && controlsText !== controlsTextTem) {\n        prevButton.innerHTML = controlsText[0];\n        nextButton.innerHTML = controlsText[1];\n      }\n\n      if (autoplayButton && autoplayText !== autoplayTextTem) {\n        var i = autoplay ? 1 : 0,\n            html = autoplayButton.innerHTML,\n            len = html.length - autoplayTextTem[i].length;\n        if (html.substring(len) === autoplayTextTem[i]) {\n          autoplayButton.innerHTML = html.substring(0, len) + autoplayText[i];\n        }\n      }\n    } else {\n      if (center && (fixedWidth || autoWidth)) { needContainerTransform = true; }\n    }\n\n    if (itemsChanged || fixedWidth && !autoWidth) {\n      pages = getPages();\n      updateNavVisibility();\n    }\n\n    indChanged = index !== indexTem;\n    if (indChanged) { \n      events.emit('indexChanged', info());\n      needContainerTransform = true;\n    } else if (itemsChanged) {\n      if (!indChanged) { additionalUpdates(); }\n    } else if (fixedWidth || autoWidth) {\n      doLazyLoad(); \n      updateSlideStatus();\n      updateLiveRegion();\n    }\n\n    if (itemsChanged && !carousel) { updateGallerySlidePositions(); }\n\n    if (!disable && !freeze) {\n      // non-meduaqueries: IE8\n      if (bpChanged && !CSSMQ) {\n        // middle wrapper styles\n        if (autoHeight !== autoheightTem || speed !== speedTem) {\n          update_carousel_transition_duration();\n        }\n\n        // inner wrapper styles\n        if (edgePadding !== edgePaddingTem || gutter !== gutterTem) {\n          innerWrapper.style.cssText = getInnerWrapperStyles(edgePadding, gutter, fixedWidth, speed, autoHeight);\n        }\n\n        if (horizontal) {\n          // container styles\n          if (carousel) {\n            container.style.width = getContainerWidth(fixedWidth, gutter, items);\n          }\n\n          // slide styles\n          var str = getSlideWidthStyle(fixedWidth, gutter, items) + \n                    getSlideGutterStyle(gutter);\n\n          // remove the last line and\n          // add new styles\n          removeCSSRule(sheet, getCssRulesLength(sheet) - 1);\n          addCSSRule(sheet, '#' + slideId + ' > .tns-item', str, getCssRulesLength(sheet));\n        }\n      }\n\n      // auto height\n      if (autoHeight) { doAutoHeight(); }\n\n      if (needContainerTransform) {\n        doContainerTransformSilent();\n        indexCached = index;\n      }\n    }\n\n    if (bpChanged) { events.emit('newBreakpointEnd', info(e)); }\n  }\n\n\n\n\n\n  // === INITIALIZATION FUNCTIONS === //\n  function getFreeze () {\n    if (!fixedWidth && !autoWidth) {\n      var a = center ? items - (items - 1) / 2 : items;\n      return  slideCount <= a;\n    }\n\n    var width = fixedWidth ? (fixedWidth + gutter) * slideCount : slidePositions[slideCount],\n        vp = edgePadding ? viewport + edgePadding * 2 : viewport + gutter;\n\n    if (center) {\n      vp -= fixedWidth ? (viewport - fixedWidth) / 2 : (viewport - (slidePositions[index + 1] - slidePositions[index] - gutter)) / 2;\n    }\n\n    return width <= vp;\n  }\n\n  function setBreakpointZone () {\n    breakpointZone = 0;\n    for (var bp in responsive) {\n      bp = parseInt(bp); // convert string to number\n      if (windowWidth >= bp) { breakpointZone = bp; }\n    }\n  }\n\n  // (slideBy, indexMin, indexMax) => index\n  var updateIndex = (function () {\n    return loop ? \n      carousel ?\n        // loop + carousel\n        function () {\n          var leftEdge = indexMin,\n              rightEdge = indexMax;\n\n          leftEdge += slideBy;\n          rightEdge -= slideBy;\n\n          // adjust edges when has edge paddings\n          // or fixed-width slider with extra space on the right side\n          if (edgePadding) {\n            leftEdge += 1;\n            rightEdge -= 1;\n          } else if (fixedWidth) {\n            if ((viewport + gutter)%(fixedWidth + gutter)) { rightEdge -= 1; }\n          }\n\n          if (cloneCount) {\n            if (index > rightEdge) {\n              index -= slideCount;\n            } else if (index < leftEdge) {\n              index += slideCount;\n            }\n          }\n        } :\n        // loop + gallery\n        function() {\n          if (index > indexMax) {\n            while (index >= indexMin + slideCount) { index -= slideCount; }\n          } else if (index < indexMin) {\n            while (index <= indexMax - slideCount) { index += slideCount; }\n          }\n        } :\n      // non-loop\n      function() {\n        index = Math.max(indexMin, Math.min(indexMax, index));\n      };\n  })();\n\n  function disableUI () {\n    if (!autoplay && autoplayButton) { hideElement(autoplayButton); }\n    if (!nav && navContainer) { hideElement(navContainer); }\n    if (!controls) {\n      if (controlsContainer) {\n        hideElement(controlsContainer);\n      } else {\n        if (prevButton) { hideElement(prevButton); }\n        if (nextButton) { hideElement(nextButton); }\n      }\n    }\n  }\n\n  function enableUI () {\n    if (autoplay && autoplayButton) { showElement(autoplayButton); }\n    if (nav && navContainer) { showElement(navContainer); }\n    if (controls) {\n      if (controlsContainer) {\n        showElement(controlsContainer);\n      } else {\n        if (prevButton) { showElement(prevButton); }\n        if (nextButton) { showElement(nextButton); }\n      }\n    }\n  }\n\n  function freezeSlider () {\n    if (frozen) { return; }\n\n    // remove edge padding from inner wrapper\n    if (edgePadding) { innerWrapper.style.margin = '0px'; }\n\n    // add class tns-transparent to cloned slides\n    if (cloneCount) {\n      var str = 'tns-transparent';\n      for (var i = cloneCount; i--;) {\n        if (carousel) { addClass(slideItems[i], str); }\n        addClass(slideItems[slideCountNew - i - 1], str);\n      }\n    }\n\n    // update tools\n    disableUI();\n\n    frozen = true;\n  }\n\n  function unfreezeSlider () {\n    if (!frozen) { return; }\n\n    // restore edge padding for inner wrapper\n    // for mordern browsers\n    if (edgePadding && CSSMQ) { innerWrapper.style.margin = ''; }\n\n    // remove class tns-transparent to cloned slides\n    if (cloneCount) {\n      var str = 'tns-transparent';\n      for (var i = cloneCount; i--;) {\n        if (carousel) { removeClass(slideItems[i], str); }\n        removeClass(slideItems[slideCountNew - i - 1], str);\n      }\n    }\n\n    // update tools\n    enableUI();\n\n    frozen = false;\n  }\n\n  function disableSlider () {\n    if (disabled) { return; }\n\n    sheet.disabled = true;\n    container.className = container.className.replace(newContainerClasses.substring(1), '');\n    removeAttrs(container, ['style']);\n    if (loop) {\n      for (var j = cloneCount; j--;) {\n        if (carousel) { hideElement(slideItems[j]); }\n        hideElement(slideItems[slideCountNew - j - 1]);\n      }\n    }\n\n    // vertical slider\n    if (!horizontal || !carousel) { removeAttrs(innerWrapper, ['style']); }\n\n    // gallery\n    if (!carousel) { \n      for (var i = index, l = index + slideCount; i < l; i++) {\n        var item = slideItems[i];\n        removeAttrs(item, ['style']);\n        removeClass(item, animateIn);\n        removeClass(item, animateNormal);\n      }\n    }\n\n    // update tools\n    disableUI();\n\n    disabled = true;\n  }\n\n  function enableSlider () {\n    if (!disabled) { return; }\n\n    sheet.disabled = false;\n    container.className += newContainerClasses;\n    doContainerTransformSilent();\n\n    if (loop) {\n      for (var j = cloneCount; j--;) {\n        if (carousel) { showElement(slideItems[j]); }\n        showElement(slideItems[slideCountNew - j - 1]);\n      }\n    }\n\n    // gallery\n    if (!carousel) { \n      for (var i = index, l = index + slideCount; i < l; i++) {\n        var item = slideItems[i],\n            classN = i < index + items ? animateIn : animateNormal;\n        item.style.left = (i - index) * 100 / items + '%';\n        addClass(item, classN);\n      }\n    }\n\n    // update tools\n    enableUI();\n\n    disabled = false;\n  }\n\n  function updateLiveRegion () {\n    var str = getLiveRegionStr();\n    if (liveregionCurrent.innerHTML !== str) { liveregionCurrent.innerHTML = str; }\n  }\n\n  function getLiveRegionStr () {\n    var arr = getVisibleSlideRange(),\n        start = arr[0] + 1,\n        end = arr[1] + 1;\n    return start === end ? start + '' : start + ' to ' + end; \n  }\n\n  function getVisibleSlideRange (val) {\n    if (val == null) { val = getContainerTransformValue(); }\n    var start = index, end, rangestart, rangeend;\n\n    // get range start, range end for autoWidth and fixedWidth\n    if (center || edgePadding) {\n      if (autoWidth || fixedWidth) {\n        rangestart = - (parseFloat(val) + edgePadding);\n        rangeend = rangestart + viewport + edgePadding * 2;\n      }\n    } else {\n      if (autoWidth) {\n        rangestart = slidePositions[index];\n        rangeend = rangestart + viewport;\n      }\n    }\n\n    // get start, end\n    // - check auto width\n    if (autoWidth) {\n      slidePositions.forEach(function(point, i) {\n        if (i < slideCountNew) {\n          if ((center || edgePadding) && point <= rangestart + 0.5) { start = i; }\n          if (rangeend - point >= 0.5) { end = i; }\n        }\n      });\n\n    // - check percentage width, fixed width\n    } else {\n\n      if (fixedWidth) {\n        var cell = fixedWidth + gutter;\n        if (center || edgePadding) {\n          start = Math.floor(rangestart/cell);\n          end = Math.ceil(rangeend/cell - 1);\n        } else {\n          end = start + Math.ceil(viewport/cell) - 1;\n        }\n\n      } else {\n        if (center || edgePadding) {\n          var a = items - 1;\n          if (center) {\n            start -= a / 2;\n            end = index + a / 2;\n          } else {\n            end = index + a;\n          }\n\n          if (edgePadding) {\n            var b = edgePadding * items / viewport;\n            start -= b;\n            end += b;\n          }\n\n          start = Math.floor(start);\n          end = Math.ceil(end);\n        } else {\n          end = start + items - 1;\n        }\n      }\n\n      start = Math.max(start, 0);\n      end = Math.min(end, slideCountNew - 1);\n    }\n\n    return [start, end];\n  }\n\n  function doLazyLoad () {\n    if (lazyload && !disable) {\n      getImageArray.apply(null, getVisibleSlideRange()).forEach(function (img) {\n        if (!hasClass(img, imgCompleteClass)) {\n          // stop propagation transitionend event to container\n          var eve = {};\n          eve[TRANSITIONEND] = function (e) { e.stopPropagation(); };\n          addEvents(img, eve);\n\n          addEvents(img, imgEvents);\n\n          // update src\n          img.src = getAttr(img, 'data-src');\n\n          // update srcset\n          var srcset = getAttr(img, 'data-srcset');\n          if (srcset) { img.srcset = srcset; }\n\n          addClass(img, 'loading');\n        }\n      });\n    }\n  }\n\n  function onImgLoaded (e) {\n    imgLoaded(getTarget(e));\n  }\n\n  function onImgFailed (e) {\n    imgFailed(getTarget(e));\n  }\n\n  function imgLoaded (img) {\n    addClass(img, 'loaded');\n    imgCompleted(img);\n  }\n\n  function imgFailed (img) {\n    addClass(img, 'failed');\n    imgCompleted(img);\n  }\n\n  function imgCompleted (img) {\n    addClass(img, 'tns-complete');\n    removeClass(img, 'loading');\n    removeEvents(img, imgEvents);\n  }\n\n  function getImageArray (start, end) {\n    var imgs = [];\n    while (start <= end) {\n      forEach(slideItems[start].querySelectorAll('img'), function (img) { imgs.push(img); });\n      start++;\n    }\n\n    return imgs;\n  }\n\n  // check if all visible images are loaded\n  // and update container height if it's done\n  function doAutoHeight () {\n    var imgs = getImageArray.apply(null, getVisibleSlideRange());\n    raf(function(){ imgsLoadedCheck(imgs, updateInnerWrapperHeight); });\n  }\n\n  function imgsLoadedCheck (imgs, cb) {\n    // directly execute callback function if all images are complete\n    if (imgsComplete) { return cb(); }\n\n    // check selected image classes otherwise\n    imgs.forEach(function (img, index) {\n      if (hasClass(img, imgCompleteClass)) { imgs.splice(index, 1); }\n    });\n\n    // execute callback function if selected images are all complete\n    if (!imgs.length) { return cb(); }\n\n    // otherwise execute this functiona again\n    raf(function(){ imgsLoadedCheck(imgs, cb); });\n  } \n\n  function additionalUpdates () {\n    doLazyLoad(); \n    updateSlideStatus();\n    updateLiveRegion();\n    updateControlsStatus();\n    updateNavStatus();\n  }\n\n\n  function update_carousel_transition_duration () {\n    if (carousel && autoHeight) {\n      middleWrapper.style[TRANSITIONDURATION] = speed / 1000 + 's';\n    }\n  }\n\n  function getMaxSlideHeight (slideStart, slideRange) {\n    var heights = [];\n    for (var i = slideStart, l = Math.min(slideStart + slideRange, slideCountNew); i < l; i++) {\n      heights.push(slideItems[i].offsetHeight);\n    }\n\n    return Math.max.apply(null, heights);\n  }\n\n  // update inner wrapper height\n  // 1. get the max-height of the visible slides\n  // 2. set transitionDuration to speed\n  // 3. update inner wrapper height to max-height\n  // 4. set transitionDuration to 0s after transition done\n  function updateInnerWrapperHeight () {\n    var maxHeight = autoHeight ? getMaxSlideHeight(index, items) : getMaxSlideHeight(cloneCount, slideCount),\n        wp = middleWrapper ? middleWrapper : innerWrapper;\n\n    if (wp.style.height !== maxHeight) { wp.style.height = maxHeight + 'px'; }\n  }\n\n  // get the distance from the top edge of the first slide to each slide\n  // (init) => slidePositions\n  function setSlidePositions () {\n    slidePositions = [0];\n    var attr = horizontal ? 'left' : 'top',\n        attr2 = horizontal ? 'right' : 'bottom',\n        base = slideItems[0].getBoundingClientRect()[attr];\n\n    forEach(slideItems, function(item, i) {\n      // skip the first slide\n      if (i) { slidePositions.push(item.getBoundingClientRect()[attr] - base); }\n      // add the end edge\n      if (i === slideCountNew - 1) { slidePositions.push(item.getBoundingClientRect()[attr2] - base); }\n    });\n  }\n\n  // update slide\n  function updateSlideStatus () {\n    var range = getVisibleSlideRange(),\n        start = range[0],\n        end = range[1];\n\n    forEach(slideItems, function(item, i) {\n      // show slides\n      if (i >= start && i <= end) {\n        if (hasAttr(item, 'aria-hidden')) {\n          removeAttrs(item, ['aria-hidden', 'tabindex']);\n          addClass(item, slideActiveClass);\n        }\n      // hide slides\n      } else {\n        if (!hasAttr(item, 'aria-hidden')) {\n          setAttrs(item, {\n            'aria-hidden': 'true',\n            'tabindex': '-1'\n          });\n          removeClass(item, slideActiveClass);\n        }\n      }\n    });\n  }\n\n  // gallery: update slide position\n  function updateGallerySlidePositions () {\n    var l = index + Math.min(slideCount, items);\n    for (var i = slideCountNew; i--;) {\n      var item = slideItems[i];\n\n      if (i >= index && i < l) {\n        // add transitions to visible slides when adjusting their positions\n        addClass(item, 'tns-moving');\n\n        item.style.left = (i - index) * 100 / items + '%';\n        addClass(item, animateIn);\n        removeClass(item, animateNormal);\n      } else if (item.style.left) {\n        item.style.left = '';\n        addClass(item, animateNormal);\n        removeClass(item, animateIn);\n      }\n\n      // remove outlet animation\n      removeClass(item, animateOut);\n    }\n\n    // removing '.tns-moving'\n    setTimeout(function() {\n      forEach(slideItems, function(el) {\n        removeClass(el, 'tns-moving');\n      });\n    }, 300);\n  }\n\n  // set tabindex on Nav\n  function updateNavStatus () {\n    // get current nav\n    if (nav) {\n      navCurrentIndex = navClicked >= 0 ? navClicked : getCurrentNavIndex();\n      navClicked = -1;\n\n      if (navCurrentIndex !== navCurrentIndexCached) {\n        var navPrev = navItems[navCurrentIndexCached],\n            navCurrent = navItems[navCurrentIndex];\n\n        setAttrs(navPrev, {\n          'tabindex': '-1',\n          'aria-label': navStr + (navCurrentIndexCached + 1)\n        });\n        removeClass(navPrev, navActiveClass);\n        \n        setAttrs(navCurrent, {'aria-label': navStr + (navCurrentIndex + 1) + navStrCurrent});\n        removeAttrs(navCurrent, 'tabindex');\n        addClass(navCurrent, navActiveClass);\n\n        navCurrentIndexCached = navCurrentIndex;\n      }\n    }\n  }\n\n  function getLowerCaseNodeName (el) {\n    return el.nodeName.toLowerCase();\n  }\n\n  function isButton (el) {\n    return getLowerCaseNodeName(el) === 'button';\n  }\n\n  function isAriaDisabled (el) {\n    return el.getAttribute('aria-disabled') === 'true';\n  }\n\n  function disEnableElement (isButton, el, val) {\n    if (isButton) {\n      el.disabled = val;\n    } else {\n      el.setAttribute('aria-disabled', val.toString());\n    }\n  }\n\n  // set 'disabled' to true on controls when reach the edges\n  function updateControlsStatus () {\n    if (!controls || rewind || loop) { return; }\n\n    var prevDisabled = (prevIsButton) ? prevButton.disabled : isAriaDisabled(prevButton),\n        nextDisabled = (nextIsButton) ? nextButton.disabled : isAriaDisabled(nextButton),\n        disablePrev = (index <= indexMin) ? true : false,\n        disableNext = (!rewind && index >= indexMax) ? true : false;\n\n    if (disablePrev && !prevDisabled) {\n      disEnableElement(prevIsButton, prevButton, true);\n    }\n    if (!disablePrev && prevDisabled) {\n      disEnableElement(prevIsButton, prevButton, false);\n    }\n    if (disableNext && !nextDisabled) {\n      disEnableElement(nextIsButton, nextButton, true);\n    }\n    if (!disableNext && nextDisabled) {\n      disEnableElement(nextIsButton, nextButton, false);\n    }\n  }\n\n  // set duration\n  function resetDuration (el, str) {\n    if (TRANSITIONDURATION) { el.style[TRANSITIONDURATION] = str; }\n  }\n\n  function getSliderWidth () {\n    return fixedWidth ? (fixedWidth + gutter) * slideCountNew : slidePositions[slideCountNew];\n  }\n\n  function getCenterGap (num) {\n    if (num == null) { num = index; }\n\n    var gap = edgePadding ? gutter : 0;\n    return autoWidth ? ((viewport - gap) - (slidePositions[num + 1] - slidePositions[num] - gutter))/2 :\n      fixedWidth ? (viewport - fixedWidth) / 2 :\n        (items - 1) / 2;\n  }\n\n  function getRightBoundary () {\n    var gap = edgePadding ? gutter : 0,\n        result = (viewport + gap) - getSliderWidth();\n\n    if (center && !loop) {\n      result = fixedWidth ? - (fixedWidth + gutter) * (slideCountNew - 1) - getCenterGap() :\n        getCenterGap(slideCountNew - 1) - slidePositions[slideCountNew - 1];\n    }\n    if (result > 0) { result = 0; }\n\n    return result;\n  }\n\n  function getContainerTransformValue (num) {\n    if (num == null) { num = index; }\n\n    var val;\n    if (horizontal && !autoWidth) {\n      if (fixedWidth) {\n        val = - (fixedWidth + gutter) * num;\n        if (center) { val += getCenterGap(); }\n      } else {\n        var denominator = TRANSFORM ? slideCountNew : items;\n        if (center) { num -= getCenterGap(); }\n        val = - num * 100 / denominator;\n      }\n    } else {\n      val = - slidePositions[num];\n      if (center && autoWidth) {\n        val += getCenterGap();\n      }\n    }\n\n    if (hasRightDeadZone) { val = Math.max(val, rightBoundary); }\n\n    val += (horizontal && !autoWidth && !fixedWidth) ? '%' : 'px';\n\n    return val;\n  }\n\n  function doContainerTransformSilent (val) {\n    resetDuration(container, '0s');\n    doContainerTransform(val);\n  }\n\n  function doContainerTransform (val) {\n    if (val == null) { val = getContainerTransformValue(); }\n    container.style[transformAttr] = transformPrefix + val + transformPostfix;\n  }\n\n  function animateSlide (number, classOut, classIn, isOut) {\n    var l = number + items;\n    if (!loop) { l = Math.min(l, slideCountNew); }\n\n    for (var i = number; i < l; i++) {\n        var item = slideItems[i];\n\n      // set item positions\n      if (!isOut) { item.style.left = (i - index) * 100 / items + '%'; }\n\n      if (animateDelay && TRANSITIONDELAY) {\n        item.style[TRANSITIONDELAY] = item.style[ANIMATIONDELAY] = animateDelay * (i - number) / 1000 + 's';\n      }\n      removeClass(item, classOut);\n      addClass(item, classIn);\n      \n      if (isOut) { slideItemsOut.push(item); }\n    }\n  }\n\n  // make transfer after click/drag:\n  // 1. change 'transform' property for mordern browsers\n  // 2. change 'left' property for legacy browsers\n  var transformCore = (function () {\n    return carousel ?\n      function () {\n        resetDuration(container, '');\n        if (TRANSITIONDURATION || !speed) {\n          // for morden browsers with non-zero duration or \n          // zero duration for all browsers\n          doContainerTransform();\n          // run fallback function manually \n          // when duration is 0 / container is hidden\n          if (!speed || !isVisible(container)) { onTransitionEnd(); }\n\n        } else {\n          // for old browser with non-zero duration\n          jsTransform(container, transformAttr, transformPrefix, transformPostfix, getContainerTransformValue(), speed, onTransitionEnd);\n        }\n\n        if (!horizontal) { updateContentWrapperHeight(); }\n      } :\n      function () {\n        slideItemsOut = [];\n\n        var eve = {};\n        eve[TRANSITIONEND] = eve[ANIMATIONEND] = onTransitionEnd;\n        removeEvents(slideItems[indexCached], eve);\n        addEvents(slideItems[index], eve);\n\n        animateSlide(indexCached, animateIn, animateOut, true);\n        animateSlide(index, animateNormal, animateIn);\n\n        // run fallback function manually \n        // when transition or animation not supported / duration is 0\n        if (!TRANSITIONEND || !ANIMATIONEND || !speed || !isVisible(container)) { onTransitionEnd(); }\n      };\n  })();\n\n  function render (e, sliderMoved) {\n    if (updateIndexBeforeTransform) { updateIndex(); }\n\n    // render when slider was moved (touch or drag) even though index may not change\n    if (index !== indexCached || sliderMoved) {\n      // events\n      events.emit('indexChanged', info());\n      events.emit('transitionStart', info());\n      if (autoHeight) { doAutoHeight(); }\n\n      // pause autoplay when click or keydown from user\n      if (animating && e && ['click', 'keydown'].indexOf(e.type) >= 0) { stopAutoplay(); }\n\n      running = true;\n      transformCore();\n    }\n  }\n\n  /*\n   * Transfer prefixed properties to the same format\n   * CSS: -Webkit-Transform => webkittransform\n   * JS: WebkitTransform => webkittransform\n   * @param {string} str - property\n   *\n   */\n  function strTrans (str) {\n    return str.toLowerCase().replace(/-/g, '');\n  }\n\n  // AFTER TRANSFORM\n  // Things need to be done after a transfer:\n  // 1. check index\n  // 2. add classes to visible slide\n  // 3. disable controls buttons when reach the first/last slide in non-loop slider\n  // 4. update nav status\n  // 5. lazyload images\n  // 6. update container height\n  function onTransitionEnd (event) {\n    // check running on gallery mode\n    // make sure trantionend/animationend events run only once\n    if (carousel || running) {\n      events.emit('transitionEnd', info(event));\n\n      if (!carousel && slideItemsOut.length > 0) {\n        for (var i = 0; i < slideItemsOut.length; i++) {\n          var item = slideItemsOut[i];\n          // set item positions\n          item.style.left = '';\n\n          if (ANIMATIONDELAY && TRANSITIONDELAY) { \n            item.style[ANIMATIONDELAY] = '';\n            item.style[TRANSITIONDELAY] = '';\n          }\n          removeClass(item, animateOut);\n          addClass(item, animateNormal);\n        }\n      }\n\n      /* update slides, nav, controls after checking ...\n       * => legacy browsers who don't support 'event' \n       *    have to check event first, otherwise event.target will cause an error \n       * => or 'gallery' mode: \n       *   + event target is slide item\n       * => or 'carousel' mode: \n       *   + event target is container, \n       *   + event.property is the same with transform attribute\n       */\n      if (!event || \n          !carousel && event.target.parentNode === container || \n          event.target === container && strTrans(event.propertyName) === strTrans(transformAttr)) {\n\n        if (!updateIndexBeforeTransform) { \n          var indexTem = index;\n          updateIndex();\n          if (index !== indexTem) { \n            events.emit('indexChanged', info());\n\n            doContainerTransformSilent();\n          }\n        } \n\n        if (nested === 'inner') { events.emit('innerLoaded', info()); }\n        running = false;\n        indexCached = index;\n      }\n    }\n\n  }\n\n  // # ACTIONS\n  function goTo (targetIndex, e) {\n    if (freeze) { return; }\n\n    // prev slideBy\n    if (targetIndex === 'prev') {\n      onControlsClick(e, -1);\n\n    // next slideBy\n    } else if (targetIndex === 'next') {\n      onControlsClick(e, 1);\n\n    // go to exact slide\n    } else {\n      if (running) {\n        if (preventActionWhenRunning) { return; } else { onTransitionEnd(); }\n      }\n\n      var absIndex = getAbsIndex(), \n          indexGap = 0;\n\n      if (targetIndex === 'first') {\n        indexGap = - absIndex;\n      } else if (targetIndex === 'last') {\n        indexGap = carousel ? slideCount - items - absIndex : slideCount - 1 - absIndex;\n      } else {\n        if (typeof targetIndex !== 'number') { targetIndex = parseInt(targetIndex); }\n\n        if (!isNaN(targetIndex)) {\n          // from directly called goTo function\n          if (!e) { targetIndex = Math.max(0, Math.min(slideCount - 1, targetIndex)); }\n\n          indexGap = targetIndex - absIndex;\n        }\n      }\n\n      // gallery: make sure new page won't overlap with current page\n      if (!carousel && indexGap && Math.abs(indexGap) < items) {\n        var factor = indexGap > 0 ? 1 : -1;\n        indexGap += (index + indexGap - slideCount) >= indexMin ? slideCount * factor : slideCount * 2 * factor * -1;\n      }\n\n      index += indexGap;\n\n      // make sure index is in range\n      if (carousel && loop) {\n        if (index < indexMin) { index += slideCount; }\n        if (index > indexMax) { index -= slideCount; }\n      }\n\n      // if index is changed, start rendering\n      if (getAbsIndex(index) !== getAbsIndex(indexCached)) {\n        render(e);\n      }\n\n    }\n  }\n\n  // on controls click\n  function onControlsClick (e, dir) {\n    if (running) {\n      if (preventActionWhenRunning) { return; } else { onTransitionEnd(); }\n    }\n    var passEventObject;\n\n    if (!dir) {\n      e = getEvent(e);\n      var target = getTarget(e);\n\n      while (target !== controlsContainer && [prevButton, nextButton].indexOf(target) < 0) { target = target.parentNode; }\n\n      var targetIn = [prevButton, nextButton].indexOf(target);\n      if (targetIn >= 0) {\n        passEventObject = true;\n        dir = targetIn === 0 ? -1 : 1;\n      }\n    }\n\n    if (rewind) {\n      if (index === indexMin && dir === -1) {\n        goTo('last', e);\n        return;\n      } else if (index === indexMax && dir === 1) {\n        goTo('first', e);\n        return;\n      }\n    }\n\n    if (dir) {\n      index += slideBy * dir;\n      if (autoWidth) { index = Math.floor(index); }\n      // pass e when click control buttons or keydown\n      render((passEventObject || (e && e.type === 'keydown')) ? e : null);\n    }\n  }\n\n  // on nav click\n  function onNavClick (e) {\n    if (running) {\n      if (preventActionWhenRunning) { return; } else { onTransitionEnd(); }\n    }\n    \n    e = getEvent(e);\n    var target = getTarget(e), navIndex;\n\n    // find the clicked nav item\n    while (target !== navContainer && !hasAttr(target, 'data-nav')) { target = target.parentNode; }\n    if (hasAttr(target, 'data-nav')) {\n      var navIndex = navClicked = Number(getAttr(target, 'data-nav')),\n          targetIndexBase = fixedWidth || autoWidth ? navIndex * slideCount / pages : navIndex * items,\n          targetIndex = navAsThumbnails ? navIndex : Math.min(Math.ceil(targetIndexBase), slideCount - 1);\n      goTo(targetIndex, e);\n\n      if (navCurrentIndex === navIndex) {\n        if (animating) { stopAutoplay(); }\n        navClicked = -1; // reset navClicked\n      }\n    }\n  }\n\n  // autoplay functions\n  function setAutoplayTimer () {\n    autoplayTimer = setInterval(function () {\n      onControlsClick(null, autoplayDirection);\n    }, autoplayTimeout);\n\n    animating = true;\n  }\n\n  function stopAutoplayTimer () {\n    clearInterval(autoplayTimer);\n    animating = false;\n  }\n\n  function updateAutoplayButton (action, txt) {\n    setAttrs(autoplayButton, {'data-action': action});\n    autoplayButton.innerHTML = autoplayHtmlStrings[0] + action + autoplayHtmlStrings[1] + txt;\n  }\n\n  function startAutoplay () {\n    setAutoplayTimer();\n    if (autoplayButton) { updateAutoplayButton('stop', autoplayText[1]); }\n  }\n\n  function stopAutoplay () {\n    stopAutoplayTimer();\n    if (autoplayButton) { updateAutoplayButton('start', autoplayText[0]); }\n  }\n\n  // programaitcally play/pause the slider\n  function play () {\n    if (autoplay && !animating) {\n      startAutoplay();\n      autoplayUserPaused = false;\n    }\n  }\n  function pause () {\n    if (animating) {\n      stopAutoplay();\n      autoplayUserPaused = true;\n    }\n  }\n\n  function toggleAutoplay () {\n    if (animating) {\n      stopAutoplay();\n      autoplayUserPaused = true;\n    } else {\n      startAutoplay();\n      autoplayUserPaused = false;\n    }\n  }\n\n  function onVisibilityChange () {\n    if (doc.hidden) {\n      if (animating) {\n        stopAutoplayTimer();\n        autoplayVisibilityPaused = true;\n      }\n    } else if (autoplayVisibilityPaused) {\n      setAutoplayTimer();\n      autoplayVisibilityPaused = false;\n    }\n  }\n\n  function mouseoverPause () {\n    if (animating) { \n      stopAutoplayTimer();\n      autoplayHoverPaused = true;\n    }\n  }\n\n  function mouseoutRestart () {\n    if (autoplayHoverPaused) { \n      setAutoplayTimer();\n      autoplayHoverPaused = false;\n    }\n  }\n\n  // keydown events on document \n  function onDocumentKeydown (e) {\n    e = getEvent(e);\n    var keyIndex = [KEYS.LEFT, KEYS.RIGHT].indexOf(e.keyCode);\n\n    if (keyIndex >= 0) {\n      onControlsClick(e, keyIndex === 0 ? -1 : 1);\n    }\n  }\n\n  // on key control\n  function onControlsKeydown (e) {\n    e = getEvent(e);\n    var keyIndex = [KEYS.LEFT, KEYS.RIGHT].indexOf(e.keyCode);\n\n    if (keyIndex >= 0) {\n      if (keyIndex === 0) {\n        if (!prevButton.disabled) { onControlsClick(e, -1); }\n      } else if (!nextButton.disabled) {\n        onControlsClick(e, 1);\n      }\n    }\n  }\n\n  // set focus\n  function setFocus (el) {\n    el.focus();\n  }\n\n  // on key nav\n  function onNavKeydown (e) {\n    e = getEvent(e);\n    var curElement = doc.activeElement;\n    if (!hasAttr(curElement, 'data-nav')) { return; }\n\n    // var code = e.keyCode,\n    var keyIndex = [KEYS.LEFT, KEYS.RIGHT, KEYS.ENTER, KEYS.SPACE].indexOf(e.keyCode),\n        navIndex = Number(getAttr(curElement, 'data-nav'));\n\n    if (keyIndex >= 0) {\n      if (keyIndex === 0) {\n        if (navIndex > 0) { setFocus(navItems[navIndex - 1]); }\n      } else if (keyIndex === 1) {\n        if (navIndex < pages - 1) { setFocus(navItems[navIndex + 1]); }\n      } else {\n        navClicked = navIndex;\n        goTo(navIndex, e);\n      }\n    }\n  }\n\n  function getEvent (e) {\n    e = e || win.event;\n    return isTouchEvent(e) ? e.changedTouches[0] : e;\n  }\n  function getTarget (e) {\n    return e.target || win.event.srcElement;\n  }\n\n  function isTouchEvent (e) {\n    return e.type.indexOf('touch') >= 0;\n  }\n\n  function preventDefaultBehavior (e) {\n    e.preventDefault ? e.preventDefault() : e.returnValue = false;\n  }\n\n  function getMoveDirectionExpected () {\n    return getTouchDirection(toDegree(lastPosition.y - initPosition.y, lastPosition.x - initPosition.x), swipeAngle) === options.axis;\n  }\n\n  function onPanStart (e) {\n    if (running) {\n      if (preventActionWhenRunning) { return; } else { onTransitionEnd(); }\n    }\n\n    if (autoplay && animating) { stopAutoplayTimer(); }\n    \n    panStart = true;\n    if (rafIndex) {\n      caf(rafIndex);\n      rafIndex = null;\n    }\n\n    var $ = getEvent(e);\n    events.emit(isTouchEvent(e) ? 'touchStart' : 'dragStart', info(e));\n\n    if (!isTouchEvent(e) && ['img', 'a'].indexOf(getLowerCaseNodeName(getTarget(e))) >= 0) {\n      preventDefaultBehavior(e);\n    }\n\n    lastPosition.x = initPosition.x = $.clientX;\n    lastPosition.y = initPosition.y = $.clientY;\n    if (carousel) {\n      translateInit = parseFloat(container.style[transformAttr].replace(transformPrefix, ''));\n      resetDuration(container, '0s');\n    }\n  }\n\n  function onPanMove (e) {\n    if (panStart) {\n      var $ = getEvent(e);\n      lastPosition.x = $.clientX;\n      lastPosition.y = $.clientY;\n\n      if (carousel) {\n        if (!rafIndex) { rafIndex = raf(function(){ panUpdate(e); }); }\n      } else {\n        if (moveDirectionExpected === '?') { moveDirectionExpected = getMoveDirectionExpected(); }\n        if (moveDirectionExpected) { preventScroll = true; }\n      }\n\n      if (preventScroll) { e.preventDefault(); }\n    }\n  }\n\n  function panUpdate (e) {\n    if (!moveDirectionExpected) {\n      panStart = false;\n      return;\n    }\n    caf(rafIndex);\n    if (panStart) { rafIndex = raf(function(){ panUpdate(e); }); }\n\n    if (moveDirectionExpected === '?') { moveDirectionExpected = getMoveDirectionExpected(); }\n    if (moveDirectionExpected) {\n      if (!preventScroll && isTouchEvent(e)) { preventScroll = true; }\n\n      try {\n        if (e.type) { events.emit(isTouchEvent(e) ? 'touchMove' : 'dragMove', info(e)); }\n      } catch(err) {}\n\n      var x = translateInit,\n          dist = getDist(lastPosition, initPosition);\n      if (!horizontal || fixedWidth || autoWidth) {\n        x += dist;\n        x += 'px';\n      } else {\n        var percentageX = TRANSFORM ? dist * items * 100 / ((viewport + gutter) * slideCountNew): dist * 100 / (viewport + gutter);\n        x += percentageX;\n        x += '%';\n      }\n\n      container.style[transformAttr] = transformPrefix + x + transformPostfix;\n    }\n  }\n\n  function onPanEnd (e) {\n    if (panStart) {\n      if (rafIndex) {\n        caf(rafIndex);\n        rafIndex = null;\n      }\n      if (carousel) { resetDuration(container, ''); }\n      panStart = false;\n\n      var $ = getEvent(e);\n      lastPosition.x = $.clientX;\n      lastPosition.y = $.clientY;\n      var dist = getDist(lastPosition, initPosition);\n\n      if (Math.abs(dist)) {\n        // drag vs click\n        if (!isTouchEvent(e)) {\n          // prevent \"click\"\n          var target = getTarget(e);\n          addEvents(target, {'click': function preventClick (e) {\n            preventDefaultBehavior(e);\n            removeEvents(target, {'click': preventClick});\n          }}); \n        }\n\n        if (carousel) {\n          rafIndex = raf(function() {\n            if (horizontal && !autoWidth) {\n              var indexMoved = - dist * items / (viewport + gutter);\n              indexMoved = dist > 0 ? Math.floor(indexMoved) : Math.ceil(indexMoved);\n              index += indexMoved;\n            } else {\n              var moved = - (translateInit + dist);\n              if (moved <= 0) {\n                index = indexMin;\n              } else if (moved >= slidePositions[slideCountNew - 1]) {\n                index = indexMax;\n              } else {\n                var i = 0;\n                while (i < slideCountNew && moved >= slidePositions[i]) {\n                  index = i;\n                  if (moved > slidePositions[i] && dist < 0) { index += 1; }\n                  i++;\n                }\n              }\n            }\n\n            render(e, dist);\n            events.emit(isTouchEvent(e) ? 'touchEnd' : 'dragEnd', info(e));\n          });\n        } else {\n          if (moveDirectionExpected) {\n            onControlsClick(e, dist > 0 ? -1 : 1);\n          }\n        }\n      }\n    }\n\n    // reset\n    if (options.preventScrollOnTouch === 'auto') { preventScroll = false; }\n    if (swipeAngle) { moveDirectionExpected = '?'; } \n    if (autoplay && !animating) { setAutoplayTimer(); }\n  }\n\n  // === RESIZE FUNCTIONS === //\n  // (slidePositions, index, items) => vertical_conentWrapper.height\n  function updateContentWrapperHeight () {\n    var wp = middleWrapper ? middleWrapper : innerWrapper;\n    wp.style.height = slidePositions[index + items] - slidePositions[index] + 'px';\n  }\n\n  function getPages () {\n    var rough = fixedWidth ? (fixedWidth + gutter) * slideCount / viewport : slideCount / items;\n    return Math.min(Math.ceil(rough), slideCount);\n  }\n\n  /*\n   * 1. update visible nav items list\n   * 2. add \"hidden\" attributes to previous visible nav items\n   * 3. remove \"hidden\" attrubutes to new visible nav items\n   */\n  function updateNavVisibility () {\n    if (!nav || navAsThumbnails) { return; }\n\n    if (pages !== pagesCached) {\n      var min = pagesCached,\n          max = pages,\n          fn = showElement;\n\n      if (pagesCached > pages) {\n        min = pages;\n        max = pagesCached;\n        fn = hideElement;\n      }\n\n      while (min < max) {\n        fn(navItems[min]);\n        min++;\n      }\n\n      // cache pages\n      pagesCached = pages;\n    }\n  }\n\n  function info (e) {\n    return {\n      container: container,\n      slideItems: slideItems,\n      navContainer: navContainer,\n      navItems: navItems,\n      controlsContainer: controlsContainer,\n      hasControls: hasControls,\n      prevButton: prevButton,\n      nextButton: nextButton,\n      items: items,\n      slideBy: slideBy,\n      cloneCount: cloneCount,\n      slideCount: slideCount,\n      slideCountNew: slideCountNew,\n      index: index,\n      indexCached: indexCached,\n      displayIndex: getCurrentSlide(),\n      navCurrentIndex: navCurrentIndex,\n      navCurrentIndexCached: navCurrentIndexCached,\n      pages: pages,\n      pagesCached: pagesCached,\n      sheet: sheet,\n      isOn: isOn,\n      event: e || {},\n    };\n  }\n\n  return {\n    version: '2.9.2',\n    getInfo: info,\n    events: events,\n    goTo: goTo,\n    play: play,\n    pause: pause,\n    isOn: isOn,\n    updateSliderHeight: updateInnerWrapperHeight,\n    refresh: initSliderTransform,\n    destroy: destroy,\n    rebuild: function() {\n      return tns(extend(options, optionsElements));\n    }\n  };\n};\n","import { Component, Input, OnChanges, ChangeDetectionStrategy } from '@angular/core';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\nimport { BehaviorSubject } from 'rxjs';\nimport blocksToHtml from '@sanity/block-content-to-html';\nimport { environment } from '../../../../environments/environment';\n\nconst h = blocksToHtml.h;\n\n@Component({\n    selector: 'app-block',\n    templateUrl: './block.component.html',\n    styleUrls: ['./block.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class BlockComponent implements OnChanges {\n    @Input('block') block: any;\n    bodyHtml: BehaviorSubject<SafeHtml> = new BehaviorSubject({});\n    linkRenderer = props => (\n        h('a', {\n            className: 'has-text-weight-medium has-text-grey-darker',\n            style: 'text-decoration: underline;'\n        }, props.children)\n    );\n    codeRenderer = props => (\n        h('pre', {className: props.node.language},\n            h('code', props.node.code)\n        )\n    );\n    blockRenderer = props => {\n        switch (props.node.style) {\n            case 'h1':\n                return h('h1', {className: `title is-1`}, props.children);\n\n            case 'h2':\n                return h('h2', {className: `title is-2`}, props.children);\n\n            case 'h3':\n                return h('h3', {className: `title is-3`}, props.children);\n\n            case 'h4':\n                return h('h4', {className: `title is-4`}, props.children);\n\n            case 'blockquote':\n                return h('blockqoute', {className: 'subtitle is-2'}, props.children);\n\n            default:\n                return h('p', null, props.children);\n        }\n    };\n\n    constructor(private sanitizer: DomSanitizer) {}\n\n    ngOnChanges(): void {\n        // Use sanity block to HTML\n        const pureHtml = blocksToHtml({\n            blocks: this.block,\n            serializers: {\n                types: {\n                    code: this.codeRenderer,\n                    block: this.blockRenderer\n                },\n                marks: {\n                    link: this.linkRenderer\n                }\n            },\n            ...environment.sanity,\n            className: 'block-content is-size-5'\n        });\n\n        // Sanitize generated HTML\n        this.bodyHtml.next(this.sanitizer.bypassSecurityTrustHtml(pureHtml));\n    }\n}\n","<div [outerHTML]='bodyHtml | async'></div>\n","import { Component, Input, ChangeDetectionStrategy } from '@angular/core';\nimport { Navlink } from '../../core';\nimport { BehaviorSubject } from 'rxjs';\n\n@Component({\n    selector: 'app-navbar',\n    templateUrl: './navbar.component.html',\n    styleUrls: ['./navbar.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NavbarComponent {\n\n    @Input('color') color: string;\n    isActive: BehaviorSubject<boolean> = new BehaviorSubject(false);\n\n    navRoutes(): Navlink[] {\n        return [{\n            path: 'home',\n            name: 'Home'\n        }, {\n            path: 'blog',\n            name: 'Blog'\n        }, {\n            path: 'contact',\n            name: 'Contact'\n        }];\n    }\n\n    toggleActive(): void {\n        this.isActive.next(!this.isActive.value);\n    }\n\n}\n","<nav class='navbar is-transparent is-{{ color || \"dark\" }}' role='navigation' aria-label='main menu'>\n    <div class='navbar-brand'>\n        <!-- <figure class=\"navbar-item\">\n            <img src=\"https://bulma.io/images/bulma-logo.png\" width=\"112\" height=\"28\">\n        </figure> -->\n\n        <a role=\"button\"\n            class=\"navbar-burger\"\n            aria-label=\"main menu\"\n            aria-expanded=\"false\"\n            data-target=\"menu\"\n            (click)='toggleActive()'>\n            <span aria-hidden=\"true\"></span>\n            <span aria-hidden=\"true\"></span>\n            <span aria-hidden=\"true\"></span>\n        </a>\n    </div>\n    <div [class.is-active]='isActive | async' class='navbar-menu' id='menu'>\n        <div class='navbar-start'></div>\n        <div class='navbar-end'>\n            <a *ngFor='let r of navRoutes()'\n                class='navbar-item'\n                [routerLink]='[\"/\"].concat(r.path)'>\n                {{ r.name }}\n            </a>\n        </div>\n    </div>\n</nav>\n","import { Component, ChangeDetectionStrategy, Input, AfterViewChecked } from '@angular/core';\nimport { tns, TinySliderInstance, TinySliderSettings } from \"tiny-slider/src/tiny-slider\";\nimport { Slide } from '../../core';\n\n@Component({\n    selector: 'app-tool-slider',\n    templateUrl: './tool-slider.component.html',\n    styleUrls: ['./tool-slider.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ToolSliderComponent implements AfterViewChecked {\n    @Input('tools') tools: Slide[];\n    @Input('options') options: TinySliderSettings;\n    defaultOptions: TinySliderSettings = {\n        controls: false,\n        nav: false,\n        responsive: {\n            350: {\n                items: 2\n            },\n            500: {\n                items: 4\n            },\n            768: {\n                items: 5\n            }\n        },\n        autoplay: true,\n        autoplayTimeout: 3500,\n        autoplayButtonOutput: false,\n        swipeAngle: false,\n        speed: 400\n    };\n    slider: TinySliderInstance;\n\n    ngAfterViewChecked(): void {\n        switch (true) {\n            case this.tools && !this.slider:\n                this.slider = this.startSlider();\n                break;\n\n            case this.tools && !!this.slider:\n                this.slider.destroy();\n                this.slider = null;\n                this.slider = this.startSlider();\n                break;\n        }\n    }\n\n    startSlider(): TinySliderInstance {\n        return tns(this.options || this.defaultOptions);\n    }\n}\n","<div class='slider tns-slider'>\n    <a [routerLink]='[\"tag\", s.alt]' *ngFor='let s of tools' class='item tns-slide'>\n        <img *ngIf='s.image' [src]='s.image' [alt]='s.image' width='100'/>\n        <video *ngIf='s.video' [poster]='s.posterImage' autoplay>\n            <source [src]='s.video' [type]='s.videoType'>\n            Browser does not support videos\n        </video>\n    </a>\n</div>","import gql from 'graphql-tag';\n\nexport const BlogAuthorPage = gql`query AuthorPage($slug: String) {\n    allAuthor(where: {\n        slug: {\n            current: {\n                eq: $slug\n            }\n        }\n    }) {\n        name\n        image {\n            asset {\n              \turl\n            }\n        }\n        bioRaw\n    }\n}`;","import gql from 'graphql-tag';\n\nexport const BlogPostPage = gql`query PostPage($slug: String) {\n    allPost(where: {\n        slug: {\n            current: {\n                eq: $slug\n            }\n        }\n    }) {\n        title\n        slug {\n            current\n        }\n        mainImage {\n            asset {\n                url\n            }\n        }\n        bodyRaw\n        preview\n        author {\n            name\n            slug {\n                current\n            }\n            image {\n                asset {\n                    url\n                }\n            }\n        }\n        categories {\n            _id\n            title\n        }\n        tags {\n            title\n            slug {\n                current\n            }\n        }\n        publishedAt\n    }\n}`;","import gql from 'graphql-tag';\n\nexport const BlogPostsPage = gql`query PostsPage(\n    $limit: Int = 10\n    $offset: Int = 0\n) {\n    allPost(\n        limit: $limit\n        offset: $offset\n    ) {\n        title\n        slug {\n            current\n        }\n        mainImage {\n            asset {\n                url\n            }\n        }\n        excerpt\n        author {\n            name\n            slug {\n                current\n            }\n        }\n        categories {\n            _id\n            title\n        }\n        publishedAt\n        tags {\n            title\n            slug {\n                current\n            }\n        }\n    }\n    allCategory {\n        title\n    }\n    allTags {\n        title\n        slug {\n            current\n        }\n    }\n}`;","import gql from 'graphql-tag';\n\nexport const HomePage = gql`query HomePage {\n    allTools {\n        title\n        logo {\n            asset {\n                url\n            }\n        }\n    }\n}`;","export * from './home-page';\nexport * from './blog-posts-page';\nexport * from './blog-post-page';\nexport * from './blog-author-page';","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { NavbarComponent } from './components/navbar/navbar.component';\nimport { ToolSliderComponent } from './components/tool-slider/tool-slider.component';\nimport { BlockComponent } from './components/block/block.component';\n\n@NgModule({\n  declarations: [\n    NavbarComponent,\n    ToolSliderComponent,\n    BlockComponent\n  ],\n  imports: [\n    CommonModule,\n    RouterModule\n  ],\n  exports: [\n    CommonModule,\n    RouterModule,\n    NavbarComponent,\n    ToolSliderComponent,\n    BlockComponent\n  ]\n})\nexport class SharedModule { }\n","/* (ignored) */"]}